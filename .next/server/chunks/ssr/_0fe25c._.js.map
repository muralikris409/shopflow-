{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/cart/page.js"],"sourcesContent":["// 'use client';\n\n// import React, { useState, useEffect } from 'react';\n// import {\n//   decreaseQuantity as guestDecreaseQuantity,\n//   getCart as guestGetCart,\n//   increaseQuantity as guestIncreaseQuantity,\n//   removeProduct as guestRemoveProduct,\n// } from '../../_service/GuestCartService';\n// import UserCartService from '../../_service/UserCartService';\n// import { useDispatch, useSelector } from 'react-redux';\n// import { useRouter } from 'next/navigation';\n// import { createOrder } from '../../_service/OrderService';\n// import { setHistory } from '../../_lib/utilReducer';\n// import { fetchData } from '../../_lib/cartReducer';\n// import Cookies from 'js-cookie';\n// import { Button } from '@/components/ui/button';\n// import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n// import { Input } from '@/components/ui/input';\n// import { Separator } from '@/components/ui/separator';\n// import { Trash2 } from 'lucide-react';\n// import { useToast } from '@/hooks/use-toast';\n\n// const Cart = () => {\n//   const dispatch = useDispatch();\n//   const userCartService = new UserCartService();\n//   const isLoggedIn = useSelector((state) => state.userData?.user);\n//   const router = useRouter();\n//   let products =(isLoggedIn)? useSelector(state=>state?.cart?.items):guestGetCart();\n//   const totalAmount = useSelector((state) => state?.cart?.totalAmount) || 0;\n//   const error = useSelector((state) => state.cart.error);\n//   const [loadingCheckout, setLoadingCheckout] = useState(false);\n//   const { toast } = useToast();\n\n//   useEffect(() => {\n//     const loadCart = async () => {\n//       if (isLoggedIn) {\n//         dispatch(fetchData(`/user/cart/viewCart`));\n        \n        \n//       } else {\n//         products=typeof window !== 'undefined' ? guestGetCart() : [];\n         \n        \n//       }\n//     };\n//     loadCart();\n//   }, [isLoggedIn, dispatch,products]);\n\n//   const handleNavigation = (productId) => {\n//     router.push(`/product/${productId}`);\n//   };\n\n//   const handleCheckout = async () => {\n//     setLoadingCheckout(true);\n//     try {\n//       const items = products.map((product) => ({\n//         productId: product.productId,\n//         quantity: product.quantity,\n//       }));\n//       const { data } = await createOrder( items);\n//       router.push(`/checkout/${data?.id}`);\n//     } catch (err) {\n//       toast({ title: 'Error', description: 'Failed to create order. Please try again.', variant: 'destructive' });\n//     } finally {\n//       setLoadingCheckout(false);\n//     }\n//   };\n\n//   const updateCart = async (productId, action) => {\n//     try {\n//       if (isLoggedIn) {\n//         await userCartService.updateCartCount(productId, action);\n//         dispatch(fetchData(`/user/cart/viewCart`));\n//       } else {\n//         console.log(\"test\")\n//         action === 'increase' ? guestIncreaseQuantity(productId) : guestDecreaseQuantity(productId);\n//         products=guestGetCart();\n//       }\n//     } catch (err) {\n//       toast({ title: 'Error', description: 'Failed to update item quantity.', variant: 'destructive' });\n//     }\n//   };\n\n//   const handleRemoveProduct = async (productId) => {\n//     try {\n//       if (isLoggedIn) {\n//         await userCartService.deleteFromCart(productId);\n//         dispatch(fetchData(`/user/cart/viewCart`));\n//       } else {\n//         guestRemoveProduct(productId);\n//         products=guestGetCart();\n//       }\n//     } catch (err) {\n//       toast({ title: 'Error', description: 'Failed to remove product from cart.', variant: 'destructive' });\n//     }\n//   };\n\n//   return (\n//     <div className=\"w-full h-screen mx-auto p-2 md:p-4 bg-white rounded-lg shadow-md\">\n//       <div className=\"container mx-auto px-1\">\n//         <h2 className=\"text-3xl font-semibold text-gray-800 mb-6\">Shopping Cart</h2>\n//         {error ? (\n//           <p className=\"text-center text-red-500\">{error.message}</p>\n//         ) : products.length === 0 ? (\n//           <p className=\"text-center text-gray-600\">Your cart is empty</p>\n//         ) : (\n//           <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n//             <div className=\"lg:col-span-2\">\n//               <Card>\n//                 <CardContent className=\"p-4\">\n//                   <ul className=\"space-y-4\">\n//                     {products.map((product, index) => (\n//                       <CartTile\n//                         key={index}\n//                         handleNavigation={handleNavigation}\n//                         product={isLoggedIn ? product.product : product}\n//                         onIncreaseQuantity={() => updateCart(product.productId, 'increase')}\n//                         onDecreaseQuantity={() => updateCart(product.productId, 'decrease')}\n//                         onRemoveProduct={() => handleRemoveProduct(product.productId)}\n//                         quantity={product?.quantity}\n//                       />\n//                     ))}\n//                   </ul>\n//                 </CardContent>\n//               </Card>\n//             </div>\n//             <div className=\"lg:col-span-1\">\n//               <Card className=\"sticky top-16\">\n//                 <CardHeader>\n//                   <CardTitle className=\"text-lg\">Price Details</CardTitle>\n//                 </CardHeader>\n//                 <CardContent className=\"space-y-4\">\n//                   <div className=\"flex justify-between\">\n//                     <p>Price</p>\n//                     <p>${totalAmount.toFixed(2)}</p>\n//                   </div>\n//                   <Separator />\n//                   <div className=\"flex justify-between font-semibold\">\n//                     <p>Total Amount</p>\n//                     <p>${totalAmount.toFixed(2)}</p>\n//                   </div>\n//                   <Button\n//                     onClick={isLoggedIn ? handleCheckout : () => {\n//                       dispatch(setHistory({ route: `/cart` }));\n//                       router.push('/auth');\n//                     }}\n//                     className=\"w-full\"\n//                     disabled={products.length === 0 || loadingCheckout}\n//                   >\n//                     {loadingCheckout ? 'Processing...' : 'Checkout'}\n//                   </Button>\n//                 </CardContent>\n//               </Card>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Cart;\n\n// function CartTile({\n//   handleNavigation,\n//   product,\n//   onIncreaseQuantity,\n//   onDecreaseQuantity,\n//   onRemoveProduct,\n//   quantity,\n// }) {\n//   const [tileLoading, setTileLoading] = useState(false);\n//   const { toast } = useToast(); // Using useToast hook\n\n//   const handleOperation = async (operation, productId) => {\n//     setTileLoading(true);\n//     try {\n//       await operation(productId);\n//     } catch (err) {\n//       toast({ title: 'Error', description: 'Operation failed. Please try again.', variant: 'destructive' }); // Updated to useToast\n//     } finally {\n//       setTileLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div\n//       className={`bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden ${\n//         tileLoading ? 'animate-pulse' : ''\n//       }`}\n//     >\n//       <div className=\"flex flex-col md:flex-row p-4 gap-4\">\n//         {/* Product Image */}\n//         <img\n//           className=\"w-full md:w-24 h-24 rounded-lg object-cover\"\n//           src={product?.image}\n//           alt={product?.name}\n//         />\n\n//         {/* Product Details */}\n//         <div className=\"flex-1 flex flex-col justify-between\">\n//           <div>\n//             <h3\n//               onClick={() => handleNavigation(product?.id)}\n//               className=\"text-lg font-semibold text-gray-900 hover:underline cursor-pointer\"\n//             >\n//               {product?.name}\n//             </h3>\n//             <p className=\"text-sm text-gray-600 mt-1\">\n//               ${product?.offerPrice?.toFixed(2)}{' '}\n//               <span className=\"line-through text-gray-400\">\n//                 ${product?.actualPrice?.toFixed(2)}\n//               </span>\n//             </p>\n//           </div>\n\n//           {/* Quantity Controls */}\n//           <div className=\"flex items-center gap-2 mt-3\">\n//             <Button\n//               variant=\"outline\"\n//               size=\"sm\"\n//               onClick={() => handleOperation(onDecreaseQuantity, product?.id)}\n//               disabled={tileLoading||quantity==1}\n//             >\n//               -\n//             </Button>\n//             <Input\n//               className=\"w-12 text-center\"\n//               type=\"text\"\n//               value={quantity}\n//               readOnly\n//             />\n//             <Button\n//               variant=\"outline\"\n//               size=\"sm\"\n//               onClick={() => handleOperation(onIncreaseQuantity, product?.id)}\n//               disabled={tileLoading}\n//             >\n//               +\n//             </Button>\n//           </div>\n//         </div>\n\n//         {/* Remove Product Button */}\n//         <Button\n//           size=\"sm\"\n//           onClick={() => handleOperation(onRemoveProduct, product?.id)}\n//           disabled={tileLoading}\n//           className=\"self-start md:self-center bg-red-500\"\n//         >\n//           <Trash2 className=\"w-4 h-4 text-white\" />\n//         </Button>\n//       </div>\n//     </div>\n//   );\n// }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/node_modules/next/dist/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\nimport { RouteKind } from '../../server/route-kind'\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\ndeclare const pages: any\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n// INJECT:pages\n\nexport { tree, pages }\n\nexport { default as GlobalError } from 'VAR_MODULE_GLOBAL_ERROR'\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: any\ndeclare const __next_app_load_chunk__: any\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nexport * from '../../server/app-render/entry-base'\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n})\n"],"names":["AppPageRouteModule","RouteKind","tree","pages","default","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree"],"mappings":";;;;;;AA6BA,OAAO,MAAMM,eAAe;AA5B5B,SAASN,kBAAkB,QAAQ,2DAA2D;IAAE,wBAAwB;AAAW,EAAC;AAYpI,yEAAyE;AAEzE,cAAc;AAGd,SAASE,IAAI,EAAEC,KAAK,GAAE;AAQtB,8BAA8B;IAK5BM,WAAWC;AAKb,4DAA4D;;;;;;;;;;;AAC5D,OAAO,MAAMC,cAAc,IAAIX,mBAAmB,uBAAA;IAChDY,MAAAA,MAAY;QACVC,KAAAA;IAAMZ;IAAAA,MAAUa,QAAQ;gBACxBC,IAAAA;YAAAA,CAAM;YAAA;wBACNC,IAAAA;oBAAAA,KAAU;oBAAA;gCACV,IAAA;4BAAA;4BAAA,0BAA2C;iCAC3CC,YAAY;sCACZC,IAAAA,CAAAA,GAAU;gCAAA,QAAA;oCAAA,IAAA;oCAAA;iCAAA;;+BACVC,UAAU,EAAE;;qBACd;0BACAC,QAAAA,CAAU,CAAA;oBAAA;iBAAA;;iBACRC,YAAYnB;kBACd,QAAA,CAAA;YAAA;SAAA;IACF;IAAE","ignoreList":[0]}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}