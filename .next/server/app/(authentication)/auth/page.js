(()=>{var e={};e.id=739,e.ids=[739],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},73294:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(70260),o=t(28203),a=t(25155),n=t.n(a),i=t(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let c=["",{children:["(authentication)",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19794)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(authentication)/auth/page.js"]}]},{}]},{forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,38934)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,26420)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(authentication)/auth/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(authentication)/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6678:(e,r,t)=>{Promise.resolve().then(t.bind(t,19794))},30238:(e,r,t)=>{Promise.resolve().then(t.bind(t,16342))},16342:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(45512),o=t(58009),a=t(90993),n=t(92273),i=t(79334),l=t(65575),c=t(28531),d=t.n(c),u=t(65765),p=t(83396),m=t(54652);let h=()=>{let[e,r]=(0,o.useState)(!0),[t,c]=(0,o.useState)({}),[h,f]=(0,o.useState)({});new u.A;let[g,x]=(0,o.useState)(null),[w,y]=(0,o.useState)(!1),{data:v,status:b}=(0,a.useSession)(),j=(0,n.wA)(),C=(0,n.d4)(e=>e?.utils?.history?.route),P=(0,i.useRouter)(),k=(e,r)=>{c({...t,[e]:r}),f({...h,[e]:""})},N=()=>{let e=(0,p.parseCookies)().shopflow_session;if(console.log(e),e)try{j((0,m.Fd)(`user/userProfileInfo?userId=${e?.user?.userId}`,e?.token))}catch(e){console.error("Failed to parse user data from cookies:",e)}},E=()=>{let r={};return(e?["email","password"]:["email","password","confirmPassword","username"]).forEach(e=>{t[e]?"email"===e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t[e])||(r[e]="Invalid email format"):"confirmPassword"===e&&t.password!==t.confirmPassword&&(r[e]="Passwords do not match"):r[e]=`${e.charAt(0).toUpperCase()+e.slice(1)} is required`}),r},q=async r=>{r.preventDefault();let s=E();if(Object.keys(s).length>0){f(s),x(null);return}try{if(f({}),e){y(!0);let e=await (0,l.iD)(t);console.log(e),N(),C?C.includes("product")?P.push(`${C}`):P.push("/cart"):(P.push("/"),P.refresh())}else{y(!0);let e=await (0,l.Hh)(t);x(e?.message||"Registration successful! Please sign in.")}y(!1)}catch(e){y(!1),console.log("test",e),f({form:e+""||"An unexpected error occurred. Please try again."}),x(null)}},S=async()=>{try{let e=await (0,a.signIn)("google");console.log(e),await (0,l.d6)(v?.user),N(),P.push("/")}catch(e){console.error("Google login error:",e),f({form:e.message||"An unexpected error occurred. Please try again."}),x(null)}};return(0,o.useEffect)(()=>{"authenticated"===b&&N()},[b]),(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,s.jsx)("button",{className:`flex-1 text-center py-2 font-semibold ${e?"text-orange-500 border-b-2 border-orange-500":"text-gray-500"}`,onClick:()=>r(!0),children:"SIGN IN"}),(0,s.jsx)("button",{className:`flex-1 text-center py-2 font-semibold ${e?"text-gray-500":"text-orange-500 border-b-2 border-orange-500"}`,onClick:()=>r(!1),children:"REGISTER"})]}),h.form&&(0,s.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:h.form}),g&&(0,s.jsx)("div",{className:"bg-green-100 text-green-700 p-3 rounded mb-4",children:g}),(0,s.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[!e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-600",children:"Username"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:t.username||"",onChange:e=>k("username",e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none"}),h.username&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:h.username})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:e=>k("email",e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none"}),h.email&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:h.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:t.password||"",onChange:e=>k("password",e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none"}),h.password&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:h.password})]}),!e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-600",children:"Confirm Password"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword||"",onChange:e=>k("confirmPassword",e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none"}),h.confirmPassword&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:h.confirmPassword})]}),(0,s.jsx)("button",{type:"submit",className:"w-full mb-1 bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 rounded-lg hover:from-orange-600 hover:to-red-600",children:w?"loading":e?"Sign in":"Register"})]}),e&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d(),{href:"/forgetpwd",className:"text-sm text-gray-500 hover:text-orange-500",children:"Forgot your password?"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsx)("div",{className:"text-gray-400 mt-1",children:"Quick Access With"}),(0,s.jsxs)("button",{className:"flex flex-row justify-center mt-2",onClick:S,children:[(0,s.jsxs)("svg",{className:"h-6 w-6 mr-2",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"-0.5 0 48 48",version:"1.1",children:[(0,s.jsx)("defs",{}),(0,s.jsx)("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsx)("g",{id:"Color-",transform:"translate(-401.000000, -860.000000)",children:(0,s.jsxs)("g",{id:"Google",transform:"translate(401.000000, 860.000000)",children:[(0,s.jsx)("path",{d:"M9.82727273,24 C9.82727273,22.4757333 10.0804318,21.0144 10.5322727,19.6437333 L2.62345455,13.6042667 C1.08206818,16.7338667 0.213636364,20.2602667 0.213636364,24 C0.213636364,27.7365333 1.081,31.2608 2.62025,34.3882667 L10.5247955,28.3370667 C10.0772273,26.9728 9.82727273,25.5168 9.82727273,24",id:"Fill-1",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M23.7136364,10.1333333 C27.025,10.1333333 30.0159091,11.3066667 32.3659091,13.2266667 L39.2022727,6.4 C35.0363636,2.77333333 29.6954545,0.533333333 23.7136364,0.533333333 C14.4268636,0.533333333 6.44540909,5.84426667 2.62345455,13.6042667 L10.5322727,19.6437333 C12.3545909,14.112 17.5491591,10.1333333 23.7136364,10.1333333",id:"Fill-2",fill:"#EB4335"}),(0,s.jsx)("path",{d:"M23.7136364,37.8666667 C17.5491591,37.8666667 12.3545909,33.888 10.5322727,28.3562667 L2.62345455,34.3946667 C6.44540909,42.1557333 14.4268636,47.4666667 23.7136364,47.4666667 C29.4455,47.4666667 34.9177955,45.4314667 39.0249545,41.6181333 L31.5177727,35.8144 C29.3995682,37.1488 26.7323182,37.8666667 23.7136364,37.8666667",id:"Fill-3",fill:"#34A853"}),(0,s.jsx)("path",{d:"M46.1454545,24 C46.1454545,22.6133333 45.9318182,21.12 45.6113636,19.7333333 L23.7136364,19.7333333 L23.7136364,28.8 L36.3181818,28.8 C35.6879545,31.8912 33.9724545,34.2677333 31.5177727,35.8144 L39.0249545,41.6181333 C43.3393409,37.6138667 46.1454545,31.6490667 46.1454545,24",id:"Fill-4",fill:"#4285F4"})]})})})]}),"          "]})]})]})})}},65765:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(92273),o=t(85209);let a=function(){let e=(0,s.d4)(e=>e.userData.token),r="shopflow",t=()=>({Authorization:`Bearer ${e}`,"Content-Type":"application/json"});this.loadCart=function(){let e=localStorage.getItem(r);return e?JSON.parse(e):[]},this.saveCart=function(e){localStorage.setItem(r,JSON.stringify(e))},this.migrateCart=async function(e){let r=this.loadCart();if(console.log(r,e),r.length>0){for(let t of r)try{console.log(t);let r=await this.addItemToCart(e,t.id,t.quantity);console.log("migrated",r)}catch(e){console.error("Error migrating cart item:",e)}this.clearCart()}},this.addItemToCart=async function(e,r,s=1){console.log(e),console.log(r);try{return(await o.S.post("/user/cart/addItemToCart",{},{params:{userId:e,productId:r,quantity:s},headers:t()})).data}catch(e){throw console.log(e),console.error("Error adding item to cart:",e),e.response?e.response.data:Error("Network or server error")}},this.viewCart=async function(e){try{let r=await o.S.get("/user/cart/viewCart",{params:{userId:e},headers:t()});if(200===r.status)return r.data.data||[];throw Error(r.data.message||"Failed to retrieve cart")}catch(e){throw console.error("Error viewing cart:",e),e.response?e.response.data:Error("Network or server error")}},this.deleteFromCart=async function(e,r){try{let s=await o.S.delete("/user/cart/deleteFromCart",{params:{userId:e,productId:r},headers:t()});if(200===s.status)return s.data;throw Error(s.data.message||"Failed to delete item from cart")}catch(e){throw console.error("Error deleting item from cart:",e),e.response?e.response.data:Error("Network or server error")}},this.updateCartCount=async function(e,r,s){try{let a=await o.S.put("/user/cart/cartCount",{},{params:{userId:e,productId:r,operation:s},headers:t()});if(console.log(a.status),200===a.status)return a.data;throw Error(a.data||"Failed to update cart count")}catch(e){throw console.error("Error updating cart count:",e),e}},this.clearCart=function(){localStorage.removeItem(r)}}},19794:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(authentication)/auth/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(authentication)/auth/page.js","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,214,646,575],()=>t(73294));module.exports=s})();