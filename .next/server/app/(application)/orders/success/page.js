(()=>{var e={};e.id=380,e.ids=[380],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},158:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(70260),a=t(28203),o=t(25155),n=t.n(o),l=t(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d=["",{children:["(application)",{children:["orders",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55843)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/orders/success/page.js"]}]},{}]},{}]},{forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,38934)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,26420)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/orders/success/page.js"],m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(application)/orders/success/page",pathname:"/orders/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10479:(e,r,t)=>{Promise.resolve().then(t.bind(t,55843))},93607:(e,r,t)=>{Promise.resolve().then(t.bind(t,25565))},25565:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(45512),a=t(28531),o=t.n(a),n=t(58009),l=t(8766);let i=({title:e,children:r,href:t})=>(0,s.jsxs)("div",{className:"mb-4 bg-white p-4 rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e}),(0,s.jsx)(o(),{href:t,className:"text-orange-500 hover:underline text-sm font-medium",children:"View More"})]}),(0,s.jsx)("div",{className:"flex overflow-x-auto  scrollbar-hide scrollbar-thumb-orange-500 scrollbar-track-gray-200",children:r&&Array.isArray(r)?r.map((e,r)=>(0,s.jsx)("div",{className:"mx-1 flex-shrink-0 w-64",children:e},r)):r})]});var d=t(45891),c=t(25998);let m=()=>(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(u,{})}),u=()=>{let[e,r]=(0,n.useState)(null),[t,a]=(0,n.useState)(!0),[m,u]=(0,n.useState)(null),x=c.A.get("orderId");(0,n.useEffect)(()=>{(async()=>{try{if(!x)throw Error("Order ID not found in cookies");let e=await (0,l.p)(x);console.log(e),r(e.data),c.A.set("orderDetails",JSON.stringify(e.data),{expires:7})}catch(e){u("Failed to fetch order details")}finally{a(!1)}})()},[x]);let p=e?.orderDate?new Date(e.orderDate).toLocaleDateString():"N/A",h=e?.totalAmount?e.totalAmount.toLocaleString():"N/A";return t?(0,s.jsx)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:(0,s.jsx)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Loading order details..."})})}):m||!e?(0,s.jsx)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:(0,s.jsxs)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Oops! Something went wrong."}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 md:mb-8",children:"We couldn't retrieve your order details. Please try again later or contact support."}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)(o(),{href:"/",className:"py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Return to shopping"})})]})}):(0,s.jsxs)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:[(0,s.jsxs)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Thanks for your order!"}),(0,s.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 md:mb-8",children:["Your order"," ",(0,s.jsxs)("a",{href:"#",className:"font-medium text-gray-900 dark:text-white hover:underline",children:["#",x||"N/A"]})," ","will be processed within 24 hours during working days. We will notify you by email once your order has been shipped."]}),(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-2 rounded-lg border border-gray-100 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800 mb-6 md:mb-8",children:[(0,s.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,s.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Order Date"}),(0,s.jsx)("dd",{className:"font-medium text-gray-900 dark:text-white sm:text-end",children:p})]}),(0,s.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,s.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Order Status"}),(0,s.jsx)("dd",{className:`font-medium sm:text-end ${"CONFIRMED"===e.orderStatus?"text-green-500":"text-red-500"}`,children:e.orderStatus||"N/A"})]}),(0,s.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,s.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Payment Status"}),(0,s.jsx)("dd",{className:`font-medium sm:text-end ${"COMPLETED"===e.paymentStatus?"text-green-500":"text-red-500"}`,children:e.paymentStatus||"N/A"})]}),(0,s.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,s.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Total Amount"}),(0,s.jsxs)("dd",{className:"font-medium text-gray-900 dark:text-white sm:text-end",children:["$ ",h]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-4 border-b pb-2",children:"Order Summary"}),e?.product?.map((e,r)=>s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{className:"w-20 h-20 object-cover rounded border",src:e.product?.image||"/_assets/image.png",alt:e.product?.name}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-800",children:e.product?.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.product?.description}),s.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["$",e.product?.offerPrice," x ",e.quantity]})]})]},r)),(0,s.jsx)("div",{className:"border-t pt-4",children:(0,s.jsxs)("p",{className:"font-medium text-lg text-gray-800",children:["Total: $ ",h]})})]}),(0,s.jsx)("div",{className:"flex items-center mt-4",children:(0,s.jsx)(o(),{href:"/",className:"py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Return to shopping"})})]}),(0,s.jsx)(i,{title:"Picks for you",href:"/products",children:e?.similarProducts&&e?.similarProducts?.length>0?e?.similarProducts.map((e,r)=>s.jsx(d.default,{product:e},e.id||r)):(0,s.jsx)("p",{className:"text-gray-500",children:"No products available."})})]})}},45891:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(45512);t(28531);var a=t(79334);t(58009);var o=t(92273);t(65357);let n=({product:e})=>{(0,o.wA)();let r=(0,a.useRouter)();return(0,s.jsx)("div",{onClick:()=>{r.push(`/product/${e.id}`)},children:(0,s.jsxs)("div",{className:"relative max-h-30 md:m-4 flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md",children:[(0,s.jsxs)("div",{className:"relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl",children:[(0,s.jsx)("img",{className:"object-cover w-full",src:e?.image||"/_assets/image.png",alt:e?.name||"Placeholder Image"}),e.discountPercentage&&(0,s.jsxs)("span",{className:"absolute top-0 left-0 m-2 rounded-full bg-black px-2 text-center text-sm font-medium text-white",children:[e.discountPercentage,"% OFF"]})]}),(0,s.jsxs)("div",{className:"mt-1 px-5 pb-5",children:[(0,s.jsx)("h5",{className:"text-xl tracking-tight text-slate-900",children:e.name||"Unnamed Product"}),(0,s.jsx)("div",{className:"mt-1 flex items-center justify-between",children:(0,s.jsx)("p",{children:e.actualPrice?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-xl font-bold text-slate-900",children:["$",e.offerPrice]}),e.actualPrice&&(0,s.jsxs)("span",{className:"text-sm ml-1 text-slate-900 line-through",children:["$",e.actualPrice]})]}):(0,s.jsx)("span",{className:"text-gray-500",children:"Price not available"})})}),(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[e.rating?Array.from({length:e.rating}).map((r,t)=>(0,s.jsx)("svg",{"aria-hidden":"true",className:`h-4 w-4 ${t<e.rating?"text-yellow-300":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)):(0,s.jsx)("span",{className:"text-gray-500",children:"No ratings yet"}),e.rating&&(0,s.jsx)("span",{className:"mr-2 ml-3 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold",children:e.rating})]})]})]})})}},8766:(e,r,t)=>{"use strict";t.d(r,{N4:()=>d,TU:()=>l,fS:()=>a,gY:()=>i,kp:()=>o,p:()=>c,yT:()=>n});var s=t(85209);let a=async e=>{try{let r=await s.S.post("/user/order/createOrder",{items:e});return console.log(r),r.data}catch(e){throw console.error("Error creating order:",e),Error(e?.response?.data?.message||"Error creating order.")}},o=async e=>{try{return(await s.S.get(`/user/order/getOrderForCheckout/?orderId=${e}`)).data}catch(e){return console.error("Error fetching order for checkout:",e),{status:"error",message:e.response?.data?.message||"An error occurred while fetching the order."}}},n=async(e,r,t,a)=>{console.log("order_id:",e),console.log("razorpayId:",r),console.log("paymentId:",t),console.log("siign:",a);try{return(await s.S.post("/user/order/verify",{},{params:{orderId:e,razorpayId:r,paymentId:t,paymentSignature:a}})).data}catch(e){throw console.error("Error verifying payment:",e),Error(e?.response?.data?.message||"Error verifying payment.")}},l=async e=>{console.log("orderid:",e);try{return(await s.S.post(`/user/order/checkoutOrder?orderId=${e}`)).data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}},i=async()=>{try{return(await s.S.get("/user/order/getUserOrder")).data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}},d=async e=>{console.log(e);try{return(await s.S.put(`/user/order/cancelOrder?orderId=${e}`)).data}catch(e){throw console.error("Error cancelling order:",e),Error(e?.response?.data?.message||"Error cancelling order.")}},c=async e=>{console.log("userId:",e);try{let r=await s.S.get(`/user/order/getOrderById?orderId=${e}`);return console.log(r.data),r.data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}}},55843:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/orders/success/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/orders/success/page.js","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,431,646],()=>t(158));module.exports=s})();