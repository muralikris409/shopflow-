(()=>{var e={};e.id=107,e.ids=[107],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},15709:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=t(70260),o=t(28203),i=t(25155),n=t.n(i),a=t(67292),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);t.d(r,d);let l=["",{children:["(application)",{children:["user",{children:["profile",{children:["address",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29458)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js"]}]},{}]},{}]},{}]},{forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,69998)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,26420)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(application)/user/profile/address/page",pathname:"/user/profile/address",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4977:(e,r,t)=>{Promise.resolve().then(t.bind(t,29458))},95249:(e,r,t)=>{Promise.resolve().then(t.bind(t,40038))},40038:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(45512),o=t(58009),i=t(80689),n=t(92273);let a=()=>{let[e,r]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[d,l]=(0,o.useState)({street:"",city:"",state:"",country:"",zip:"",isPrimary:!1}),[c,u]=(0,o.useState)({}),[p,m]=(0,o.useState)(!1),[x,h]=(0,o.useState)(null),g=(0,n.d4)(e=>e?.session?.user?.id),y=(0,n.d4)(e=>e?.session?.token),f=async()=>{a(!0);let e=await (0,i.Ad)(y,g);"success"===e.status?r(e.data):console.error(e?.message||"Error retrieving addresses"),a(!1)},b=()=>{let e={};return d.street.trim()||(e.street="Street is required."),d.city.trim()||(e.city="City is required."),d.state.trim()||(e.state="State is required."),d.country.trim()||(e.country="Country is required."),d.zip.trim()&&/^[0-9]{5,6}$/.test(d.zip)||(e.zip="ZIP Code must be 5-6 digits."),u(e),0===Object.keys(e).length},v=async()=>{if(b())try{let e=await (0,i.E1)(y,g,d);e?.status==="success"?(f(),m(!1),C()):console.error(e?.error||"Error adding address")}catch(e){console.error(e)}},j=async e=>{try{let r=await (0,i.bJ)(y,g,e);r?.status==="success"?f():console.error(r?.error||"Error setting address as primary")}catch(e){console.error(e)}},w=async e=>{try{let r=await (0,i.PC)(y,g,e);r?.status==="success"?f():console.error(r?.error||"Error deleting address")}catch(e){console.error(e)}},N=async()=>{if(b())try{let e=await (0,i.yU)(y,g,x,d);e?.status==="success"?(f(),m(!1),h(null),C()):console.error(e?.error||"Error updating address")}catch(e){console.error(e)}},C=()=>{l({street:"",city:"",state:"",country:"",zip:"",isPrimary:!1}),u({})};return(0,o.useEffect)(()=>{f()},[]),(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6 text-indigo-600",children:"Manage Addresses"}),t?(0,s.jsx)("p",{children:"Loading addresses..."}):(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e?.map(e=>s.jsxs("div",{className:`p-4 border rounded-md shadow ${e.isPrimary?"border-indigo-500 bg-indigo-50":"bg-white"}`,children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:e.street}),s.jsxs("p",{className:"text-gray-500",children:[e.city,", ",e.state]}),s.jsxs("p",{className:"text-gray-500",children:[e.country," - ",e.zip]}),s.jsx("p",{className:`mt-2 text-sm font-medium ${e.isPrimary?"text-green-600":"text-gray-400"}`,children:e.isPrimary?"Primary Address":""}),s.jsxs("div",{className:"flex items-center mt-4 space-x-4",children:[!e.isPrimary&&s.jsx("button",{onClick:()=>j(e.id),className:"px-3 py-1 bg-indigo-500 text-white text-sm rounded hover:bg-indigo-600",children:"Set as Default"}),s.jsx("button",{onClick:()=>{l({...e}),h(e.id),m(!0)},className:"px-3 py-1 bg-gray-200 text-sm rounded hover:bg-gray-300",children:"Edit"}),s.jsx("button",{onClick:()=>w(e.id),className:"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Delete"})]})]},e.id)),(0,s.jsx)("button",{onClick:()=>{C(),m(!0)},className:"p-4 border-dashed border-2 border-indigo-500 text-indigo-500 rounded-md flex justify-center items-center hover:bg-indigo-50",children:"+ Add New Address"})]}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-indigo-600",children:x?"Edit Address":"Add New Address"}),(0,s.jsxs)("form",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Street",value:d.street,onChange:e=>l({...d,street:e.target.value}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${c.street?"border-red-500":"focus:ring-indigo-400"}`}),c.street&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c.street}),(0,s.jsx)("input",{type:"text",placeholder:"City",value:d.city,onChange:e=>l({...d,city:e.target.value}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${c.city?"border-red-500":"focus:ring-indigo-400"}`}),c.city&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c.city}),(0,s.jsx)("input",{type:"text",placeholder:"State",value:d.state,onChange:e=>l({...d,state:e.target.value}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${c.state?"border-red-500":"focus:ring-indigo-400"}`}),c.state&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c.state}),(0,s.jsx)("input",{type:"text",placeholder:"Country",value:d.country,onChange:e=>l({...d,country:e.target.value}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${c.country?"border-red-500":"focus:ring-indigo-400"}`}),c.country&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c.country}),(0,s.jsx)("input",{type:"text",placeholder:"ZIP Code",value:d.zip,onChange:e=>l({...d,zip:e.target.value}),className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${c.zip?"border-red-500":"focus:ring-indigo-400"}`}),c.zip&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c.zip}),(0,s.jsxs)("label",{className:"inline-flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:d.isPrimary,onChange:e=>l({...d,isPrimary:e.target.checked}),className:"form-checkbox h-5 w-5 text-indigo-600"}),(0,s.jsx)("span",{className:"ml-2 text-gray-600",children:"Set as Primary"})]}),(0,s.jsxs)("div",{className:"flex justify-end mt-4 space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{x?N():v()},className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600",children:x?"Update Address":"Save"}),(0,s.jsx)("button",{type:"button",onClick:()=>{m(!1),C()},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]})]})})]})}},29458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js","default")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,818,962,689],()=>t(15709));module.exports=s})();