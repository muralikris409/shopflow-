(()=>{var e={};e.id=107,e.ids=[107],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},8976:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=t(70260),a=t(28203),i=t(25155),n=t.n(i),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let c=["",{children:["(application)",{children:["user",{children:["profile",{children:["address",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29458)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js"]}]},{}]},{}]},{}]},{forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,38934)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,26420)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(application)/user/profile/address/page",pathname:"/user/profile/address",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6728:(e,r,t)=>{Promise.resolve().then(t.bind(t,29458))},93576:(e,r,t)=>{Promise.resolve().then(t.bind(t,81347))},81347:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>T});var s=t(45512),a=t(58009),i=t(65575),n=t(92273),o=t(61038),d=t(36684),c=t(69576),l=t(30830),u=a.forwardRef((e,r)=>(0,s.jsx)(l.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));u.displayName="Label";var p=t(21643),m=t(86645);let h=(0,p.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(u,{ref:t,className:(0,m.cn)(h(),e),...r}));x.displayName=u.displayName;var f=t(29952),y=t(6004),g=t(31412),v=t(13024),b=t(38762),j=t(98060),w="Checkbox",[N,C]=(0,y.A)(w),[k,P]=N(w),E=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:i,checked:n,defaultChecked:o,required:d,disabled:c,value:u="on",onCheckedChange:p,form:m,...h}=e,[x,y]=a.useState(null),b=(0,f.s)(r,e=>y(e)),j=a.useRef(!1),w=!x||m||!!x.closest("form"),[N=!1,C]=(0,v.i)({prop:n,defaultProp:o,onChange:p}),P=a.useRef(N);return a.useEffect(()=>{let e=x?.form;if(e){let r=()=>C(P.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[x,C]),(0,s.jsxs)(k,{scope:t,state:N,disabled:c,children:[(0,s.jsx)(l.sG.button,{type:"button",role:"checkbox","aria-checked":z(N)?"mixed":N,"aria-required":d,"data-state":S(N),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:b,onKeyDown:(0,g.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,g.m)(e.onClick,e=>{C(e=>!!z(e)||!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&(0,s.jsx)(R,{control:x,bubbles:!j.current,name:i,value:u,checked:N,required:d,disabled:c,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!z(o)&&o})]})});E.displayName=w;var A="CheckboxIndicator",q=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:a,...i}=e,n=P(A,t);return(0,s.jsx)(j.C,{present:a||z(n.state)||!0===n.state,children:(0,s.jsx)(l.sG.span,{"data-state":S(n.state),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});q.displayName=A;var R=e=>{let{control:r,checked:t,bubbles:i=!0,defaultChecked:n,...o}=e,d=a.useRef(null),c=function(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(t),l=(0,b.X)(r);a.useEffect(()=>{let e=d.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&r){let s=new Event("click",{bubbles:i});e.indeterminate=z(t),r.call(e,!z(t)&&t),e.dispatchEvent(s)}},[c,t,i]);let u=a.useRef(!z(t)&&t);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:d,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z(e){return"indeterminate"===e}function S(e){return z(e)?"indeterminate":e?"checked":"unchecked"}var D=t(24999);let _=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(E,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,s.jsx)(q,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(D.A,{className:"h-4 w-4"})})}));_.displayName=E.displayName;var M=t(11766),G=t(1209),Z=t(94825);let $=(0,Z.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),I=(0,Z.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),T=()=>{let[e,r]=(0,a.useState)([]),[t,l]=(0,a.useState)(!1),[u,p]=(0,a.useState)({street:"",city:"",state:"",country:"",zip:"",isPrimary:!1}),[m,h]=(0,a.useState)({}),[f,y]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),b=(0,n.d4)(e=>e?.userData?.user?.id),j=(0,n.d4)(e=>e?.userData?.token),{toast:w}=(0,M.dj)(),N=async()=>{let e=await (0,i.Ad)(j,b);"success"===e.status?r(e.data):w({variant:"destructive",title:"Error",description:e?.message||"Error retrieving addresses",action:(0,s.jsx)(G.Qg,{altText:"Try again",children:"Try again"})}),l(!1)},C=()=>{let e={};return u.street.trim()||(e.street="Street is required."),u.city.trim()||(e.city="City is required."),u.state.trim()||(e.state="State is required."),u.country.trim()||(e.country="Country is required."),u.zip.trim()&&/^[0-9]{5,6}$/.test(u.zip)||(e.zip="ZIP Code must be 5-6 digits."),h(e),0===Object.keys(e).length},k=async()=>{if(C())try{let e=await (0,i.E1)(j,b,u);e?.status==="success"?(N(),y(!1),q(),w({title:"Success",description:"Address added successfully."})):w({variant:"destructive",title:"Error",description:e?.error||"Error adding address"})}catch(e){w({variant:"destructive",title:"Error",description:"An error occurred while adding the address."})}},P=async e=>{try{let r=await (0,i.bJ)(j,b,e);r?.status==="success"?(N(),w({title:"Success",variant:"success",description:"Primary address updated successfully."})):w({variant:"destructive",title:"Error",description:r?.error||"Error setting address as primary"})}catch(e){w({variant:"destructive",title:"Error",description:"An error occurred while setting the primary address."})}},E=async e=>{try{let r=await (0,i.PC)(j,b,e);r?.status==="success"?(N(),w({title:"Success",description:"Address deleted successfully.",variant:"success"})):w({variant:"destructive",title:"Error",description:r?.error||"Error deleting address"})}catch(e){w({variant:"destructive",title:"Error",description:"An error occurred while deleting the address."})}},A=async()=>{if(C())try{let e=await (0,i.yU)(j,b,g,u);e?.status==="success"?(N(),y(!1),v(null),q(),w({title:"Success",description:"Address updated successfully.",variant:"success"})):w({variant:"destructive",title:"Error",description:e?.error||"Error updating address"})}catch(e){w({variant:"destructive",title:"Error",description:"An error occurred while updating the address."})}},q=()=>{p({street:"",city:"",state:"",country:"",zip:"",isPrimary:!1}),h({})};return(0,a.useEffect)(()=>{N()},[]),(0,s.jsxs)("div",{className:"w-full h-screen mx-auto p-2 md:p-4 bg-white rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Manage Address"}),t?(0,s.jsx)("p",{children:"Loading addresses..."}):(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e?.map(e=>s.jsxs(c.Zp,{className:`flex flex-col min-h-[200px] ${e.isPrimary?"border-orange-500 bg-orange-50":"bg-white"}`,children:[s.jsx(c.aR,{children:s.jsx(c.ZB,{className:"text-lg font-semibold text-gray-700 mb-2",children:e.street})}),s.jsxs(c.Wu,{className:"flex-1",children:[s.jsxs("p",{className:"text-gray-500",children:[e.city,", ",e.state]}),s.jsxs("p",{className:"text-gray-500",children:[e.country," - ",e.zip]}),s.jsx("p",{className:`mt-2 text-sm font-medium ${e.isPrimary?"text-green-600":"text-gray-400"}`,children:e.isPrimary?"Primary Address":""})]}),s.jsx("div",{className:"mt-auto p-4 border-t",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[!e.isPrimary&&s.jsx(o.$,{onClick:()=>P(e.id),className:"bg-orange-500 hover:bg-orange-600",children:"Set as Default"}),s.jsx(o.$,{onClick:()=>{p({...e}),v(e.id),y(!0)},className:"bg-gray-500 hover:bg-gray-300 flex items-center gap-2 px-3",children:s.jsx($,{size:16})}),s.jsx(o.$,{onClick:()=>E(e.id),className:"bg-red-500 hover:bg-red-600 flex items-center gap-2 px-3",children:s.jsx(I,{size:16})})]})})]},e.id)),(0,s.jsx)(o.$,{onClick:()=>{q(),y(!0)},className:"p-4 border-dashed border-2 border-indigo-500 text-white rounded-md flex justify-center items-center hover:bg-gray-600",children:"+ Add New Address"})]}),f&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-40",children:(0,s.jsxs)(c.Zp,{className:"w-96",children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{className:"text-2xl font-bold text-gray-900",children:g?"Edit Address":"Add New Address"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)("form",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{children:"Street"}),(0,s.jsx)(d.p,{type:"text",placeholder:"Street",value:u.street,onChange:e=>p({...u,street:e.target.value}),className:m.street?"border-red-500":""}),m.street&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m.street})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{children:"City"}),(0,s.jsx)(d.p,{type:"text",placeholder:"City",value:u.city,onChange:e=>p({...u,city:e.target.value}),className:m.city?"border-red-500":""}),m.city&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m.city})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{children:"State"}),(0,s.jsx)(d.p,{type:"text",placeholder:"State",value:u.state,onChange:e=>p({...u,state:e.target.value}),className:m.state?"border-red-500":""}),m.state&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m.state})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{children:"Country"}),(0,s.jsx)(d.p,{type:"text",placeholder:"Country",value:u.country,onChange:e=>p({...u,country:e.target.value}),className:m.country?"border-red-500":""}),m.country&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m.country})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{children:"ZIP Code"}),(0,s.jsx)(d.p,{type:"text",placeholder:"ZIP Code",value:u.zip,onChange:e=>p({...u,zip:e.target.value}),className:m.zip?"border-red-500":""}),m.zip&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m.zip})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(_,{id:"isPrimary",checked:u.isPrimary,onCheckedChange:e=>p({...u,isPrimary:e})}),(0,s.jsx)(x,{htmlFor:"isPrimary",children:"Set as Primary"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(o.$,{type:"button",onClick:()=>{g?A():k()},className:"bg-orange-500 hover:bg-orange-600",children:g?"Update Address":"Save"}),(0,s.jsx)(o.$,{type:"button",onClick:()=>{y(!1),q()},className:"bg-red-500 hover:bg-red-600",children:"Cancel"})]})]})})]})})]})}},69576:(e,r,t)=>{"use strict";t.d(r,{Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o});var s=t(45512),a=t(58009),i=t(86645);let n=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle",a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},29458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/user/profile/address/page.js","default")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,214,646,575],()=>t(8976));module.exports=s})();