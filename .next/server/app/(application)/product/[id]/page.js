(()=>{var e={};e.id=86,e.ids=[86],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},56478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var o=r(70260),s=r(28203),a=r(25155),n=r.n(a),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(application)",{children:["product",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27553)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/product/[id]/page.js"]}]},{}]},{}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38934)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(r.bind(r,18988)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,26420)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/product/[id]/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(application)/product/[id]/page",pathname:"/product/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},11872:(e,t,r)=>{Promise.resolve().then(r.bind(r,14607))},75424:(e,t,r)=>{Promise.resolve().then(r.bind(r,82681))},41902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return v}});let o=r(25488),s=r(81063),a=r(45512),n=s._(r(58009)),i=o._(r(55740)),l=o._(r(59153)),c=r(42034),d=r(94653),u=r(48156);r(76831);let p=r(84055),f=o._(r(21628)),h=r(73727),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,r,o,s,a,n){let i=null==e?void 0:e.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&s(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let o=!1,s=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>o,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{o=!0,t.preventDefault()},stopPropagation:()=>{s=!0,t.stopPropagation()}})}(null==o?void 0:o.current)&&o.current(e)}}))}function y(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let x=(0,n.forwardRef)((e,t)=>{let{src:r,srcSet:o,sizes:s,height:i,width:l,decoding:c,className:d,style:u,fetchPriority:p,placeholder:f,loading:g,unoptimized:x,fill:w,onLoadRef:v,onLoadingCompleteRef:b,setBlurComplete:j,setShowAltText:S,sizesInput:C,onLoad:P,onError:E,..._}=e,N=(0,n.useCallback)(e=>{e&&(E&&(e.src=e.src),e.complete&&m(e,f,v,b,j,x,C))},[r,f,v,b,j,E,x,C]),I=(0,h.useMergedRef)(t,N);return(0,a.jsx)("img",{..._,...y(p),loading:g,width:l,height:i,decoding:c,"data-nimg":w?"fill":"1",className:d,style:u,sizes:s,srcSet:o,src:r,ref:I,onLoad:e=>{m(e.currentTarget,f,v,b,j,x,C)},onError:e=>{S(!0),"empty"!==f&&j(!0),E&&E(e)}})});function w(e){let{isAppRouter:t,imgAttributes:r}=e,o={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...y(r.fetchPriority)};return t&&i.default.preload?(i.default.preload(r.src,o),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...o},"__nimg-"+r.src+r.srcSet+r.sizes)})}let v=(0,n.forwardRef)((e,t)=>{let r=(0,n.useContext)(p.RouterContext),o=(0,n.useContext)(u.ImageConfigContext),s=(0,n.useMemo)(()=>{let e=g||o||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r}},[o]),{onLoad:i,onLoadingComplete:l}=e,h=(0,n.useRef)(i);(0,n.useEffect)(()=>{h.current=i},[i]);let m=(0,n.useRef)(l);(0,n.useEffect)(()=>{m.current=l},[l]);let[y,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),{props:S,meta:C}=(0,c.getImgProps)(e,{defaultLoader:f.default,imgConf:s,blurComplete:y,showAltText:b});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{...S,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:h,onLoadingCompleteRef:m,setBlurComplete:v,setShowAltText:j,sizesInput:e.sizes,ref:t}),C.priority?(0,a.jsx)(w,{isAppRouter:!r,imgAttributes:S}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},32782:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.AmpContext},6302:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.HeadManagerContext},48156:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.ImageConfigContext},84055:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.RouterContext},62677:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:o=!1}=void 0===e?{}:e;return t||r&&o}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},42034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return i}}),r(76831);let o=r(38337),s=r(94653);function a(e){return void 0!==e.default}function n(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function i(e,t){var r;let i,l,c,{src:d,sizes:u,unoptimized:p=!1,priority:f=!1,loading:h,className:g,quality:m,width:y,height:x,fill:w=!1,style:v,overrideSrc:b,onLoad:j,onLoadingComplete:S,placeholder:C="empty",blurDataURL:P,fetchPriority:E,decoding:_="async",layout:N,objectFit:I,objectPosition:k,lazyBoundary:A,lazyRoot:O,...z}=e,{imgConf:M,showAltText:R,blurComplete:q,defaultLoader:D}=t,T=M||s.imageConfigDefault;if("allSizes"in T)i=T;else{let e=[...T.deviceSizes,...T.imageSizes].sort((e,t)=>e-t),t=T.deviceSizes.sort((e,t)=>e-t);i={...T,allSizes:e,deviceSizes:t}}if(void 0===D)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let F=z.loader||D;delete z.loader,delete z.srcSet;let U="__next_img_default"in F;if(U){if("custom"===i.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=F;F=t=>{let{config:r,...o}=t;return e(o)}}if(N){"fill"===N&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[N];e&&(v={...v,...e});let t={responsive:"100vw",fill:"100vw"}[N];t&&!u&&(u=t)}let L="",B=n(y),G=n(x);if((r=d)&&"object"==typeof r&&(a(r)||void 0!==r.src)){let e=a(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(l=e.blurWidth,c=e.blurHeight,P=P||e.blurDataURL,L=e.src,!w){if(B||G){if(B&&!G){let t=B/e.width;G=Math.round(e.height*t)}else if(!B&&G){let t=G/e.height;B=Math.round(e.width*t)}}else B=e.width,G=e.height}}let $=!f&&("lazy"===h||void 0===h);(!(d="string"==typeof d?d:L)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,$=!1),i.unoptimized&&(p=!0),U&&!i.dangerouslyAllowSVG&&d.split("?",1)[0].endsWith(".svg")&&(p=!0);let W=n(m),V=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:I,objectPosition:k}:{},R?{}:{color:"transparent"},v),H=q||"empty"===C?null:"blur"===C?'url("data:image/svg+xml;charset=utf-8,'+(0,o.getImageBlurSvg)({widthInt:B,heightInt:G,blurWidth:l,blurHeight:c,blurDataURL:P||"",objectFit:V.objectFit})+'")':'url("'+C+'")',J=H?{backgroundSize:V.objectFit||"cover",backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:H}:{},Z=function(e){let{config:t,src:r,unoptimized:o,width:s,quality:a,sizes:n,loader:i}=e;if(o)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,r){let{deviceSizes:o,allSizes:s}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let o;o=e.exec(r);o)t.push(parseInt(o[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=o[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t?{widths:o,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,n),d=l.length-1;return{sizes:n||"w"!==c?n:"100vw",srcSet:l.map((e,o)=>i({config:t,src:r,quality:a,width:e})+" "+("w"===c?e:o+1)+c).join(", "),src:i({config:t,src:r,quality:a,width:l[d]})}}({config:i,src:d,unoptimized:p,width:B,quality:W,sizes:u,loader:F});return{props:{...z,loading:$?"lazy":h,fetchPriority:E,width:B,height:G,decoding:_,className:g,style:{...V,...J},sizes:Z.sizes,srcSet:Z.srcSet,src:b||Z.src},meta:{unoptimized:p,priority:f,placeholder:C,fill:w}}}},59153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return g},defaultHead:function(){return u}});let o=r(25488),s=r(81063),a=r(45512),n=s._(r(58009)),i=o._(r(87440)),l=r(32782),c=r(6302),d=r(62677);function u(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(76831);let f=["name","httpEquiv","charSet","itemProp"];function h(e,t){let{inAmpMode:r}=t;return e.reduce(p,[]).reverse().concat(u(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,o={};return s=>{let a=!0,n=!1;if(s.key&&"number"!=typeof s.key&&s.key.indexOf("$")>0){n=!0;let t=s.key.slice(s.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(s.type){case"title":case"base":t.has(s.type)?a=!1:t.add(s.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(s.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?a=!1:r.add(t);else{let e=s.props[t],r=o[t]||new Set;("name"!==t||!n)&&r.has(e)?a=!1:(r.add(e),o[t]=r)}}}}return a}}()).reverse().map((e,t)=>{let o=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,n.default.cloneElement(e,t)}return n.default.cloneElement(e,{key:o})})}let g=function(e){let{children:t}=e,r=(0,n.useContext)(l.AmpStateContext),o=(0,n.useContext)(c.HeadManagerContext);return(0,a.jsx)(i.default,{reduceComponentsToState:h,headManager:o,inAmpMode:(0,d.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38337:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:o,blurHeight:s,blurDataURL:a,objectFit:n}=e,i=o?40*o:t,l=s?40*s:r,c=i&&l?"viewBox='0 0 "+i+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===n?"xMidYMid":"cover"===n?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},94653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return o}});let r=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],unoptimized:!1}},73864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return i}});let o=r(25488),s=r(42034),a=r(41902),n=o._(r(21628));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},21628:(e,t)=>{"use strict";function r(e){let{config:t,src:r,width:o,quality:s}=e;return t.path+"?url="+encodeURIComponent(r)+"&w="+o+"&q="+(s||75)+(r.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}}),r.__next_img_default=!0;let o=r},87440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let o=r(58009),s=()=>{},a=()=>{};function n(e){var t;let{headManager:r,reduceComponentsToState:n}=e;function i(){if(r&&r.mountedInstances){let t=o.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(n(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),i(),s(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),s(()=>(r&&(r._pendingUpdate=i),()=>{r&&(r._pendingUpdate=i)})),a(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},82681:(e,t,r)=>{"use strict";r.d(t,{default:()=>w});var o=r(45512);r(77752);var s=r(58009),a=r(92273),n=r(73864),i=r.n(n),l=r(56383);let c=(0,r(94825).A)("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);var d=r(61910),u=r(5307),p=r(79334),f=r(65357);let h=({subCategoryId:e})=>{let[t,r]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),d=(0,p.useRouter)();(0,a.wA)(),(0,s.useEffect)(()=>{(async()=>{try{let t=await (0,u.Zu)(e);r(t.data)}catch(e){c(e.message)}finally{i(!1)}})()},[e]);let f=e=>{d.push(`/product/${e.id}`)};return n?(0,o.jsx)("div",{className:"text-center",children:"Loading..."}):l?(0,o.jsx)("div",{className:"text-red-600 text-center",children:l}):(0,o.jsxs)("div",{className:"mt-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Similar Products"}),(0,o.jsx)("div",{className:"flex overflow-x-auto space-x-6 p-4",children:t.map(e=>(0,o.jsxs)("div",{className:"min-w-[220px] bg-white shadow-lg rounded-lg p-4 transition-transform transform hover:scale-105",children:[(0,o.jsx)("img",{src:e.image,alt:e.name,className:"h-40 w-full object-cover rounded-md mb-2"}),(0,o.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,o.jsxs)("p",{className:"text-gray-700",children:["$",e.offerPrice.toFixed(2)]}),(0,o.jsx)("button",{onClick:()=>f(e),className:"mt-3 w-full bg-gray-300 text-gray-800 py-2 rounded-md hover:bg-gray-400 transition duration-300",children:"View Product"})]},e.id))})]})};var g=r(65765),m=r(92919),y=r(8766),x=r(11766);function w({productId:e=1}){let t=(0,a.wA)(),r=(0,p.useRouter)(),{toast:n}=(0,x.dj)(),{data:u=[],loading:w,error:v}=(0,a.d4)(e=>e.product),b=u?.data,j=(0,a.d4)(e=>e.userData?.user),S=(0,a.d4)(e=>e.userData?.token),C=new g.A,[P,E]=(0,s.useState)(""),[_,N]=(0,s.useState)(""),[I,k]=(0,s.useState)({buy:!1,cart:!1,wishlist:!1}),A=(e,t)=>{n("success"===t?{title:"Success",description:e}:{title:"Error",description:e,variant:"destructive"})},O=e=>{t((0,f.Sd)({orders:{orders:e}})),r.push(`/checkout/${e?.data?.id}`)},z=async()=>{k(e=>({...e,buy:!0}));try{let e=j?j.id:"",t=[{productId:b.id,quantity:1}],r=await (0,y.fS)(e,t);A("Order created successfully! Redirecting to checkout...","success"),O(r)}catch(e){console.error("Order creation failed:",e),A("Failed to create order. Please try again.","error")}finally{k(e=>({...e,buy:!1}))}},M=async()=>{k(e=>({...e,cart:!0}));try{if(j){let e=await C.addItemToCart(j.id,b.id);A(e.message||"Product added to your cart!","success")}else A("Product added to your guest cart!","success")}catch(e){A("An unexpected error occurred. Please try again.","error"),console.error("Error adding to cart:",e)}finally{k(e=>({...e,cart:!1}))}},R=async()=>{k(e=>({...e,wishlist:!0})),console.log(b);try{let e=await (0,m.lx)(b.id,S);A(e?.data?.message||"Product added to Wishlist","success")}catch(e){A("An unexpected error occurred. Please try again.","error"),console.error("Error updating wishlist:",e)}finally{k(e=>({...e,wishlist:!1}))}};return w?(0,o.jsx)("p",{className:"text-center text-lg font-medium",children:"Loading..."}):v?(0,o.jsxs)("p",{className:"text-center text-red-500",children:["Error: ",v]}):b?(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row bg-white shadow-lg rounded-xl overflow-hidden lg:max-h-96",children:[(0,o.jsx)("div",{className:"lg:w-2/5 p-4 flex justify-center items-center bg-gray-100",children:(0,o.jsx)(i(),{src:b.image,alt:b.name,width:400,height:300,className:"object-contain w-full h-auto max-w-xs rounded-lg"})}),(0,o.jsxs)("div",{className:"lg:w-3/5 p-6 flex flex-col gap-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:b.name}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("span",{className:"bg-orange-500 text-white px-2 py-1 rounded text-sm font-semibold flex items-center",children:[b.rating," ",(0,o.jsx)(l.A,{className:"ml-1 w-4 h-4"})]}),(0,o.jsxs)("span",{className:"text-gray-500",children:["(",b.reviews," Reviews)"]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)("span",{className:"text-3xl font-bold text-gray-800",children:["₹",b.offerPrice]}),(0,o.jsxs)("span",{className:"text-gray-500 line-through",children:["₹",b.actualPrice]}),(0,o.jsxs)("span",{className:"text-orange-500 font-semibold",children:[b.discountPercentage,"% off"]})]}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:b.description}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-self-end",children:[(0,o.jsx)("button",{onClick:j?z:()=>A("Please log in to buy.","error"),className:"bg-gray-800 text-white px-6 py-2 rounded flex items-center justify-center gap-2 text-lg font-medium w-full sm:w-auto",disabled:I.buy,children:I.buy?(0,o.jsx)("span",{className:"animate-pulse",children:"Loading..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{className:"w-5 h-5"})," Buy Now"]})}),(0,o.jsx)("button",{onClick:M,className:"bg-gray-800 text-white px-6 py-2 rounded flex items-center justify-center gap-2 text-lg font-medium w-full sm:w-auto",disabled:I.cart,children:I.cart?(0,o.jsx)("span",{className:"animate-pulse",children:"Loading..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.A,{className:"w-5 h-5"})," Add to Cart"]})}),(0,o.jsx)("button",{onClick:R,className:"bg-gray-800 text-white px-6 py-2 rounded flex items-center justify-center gap-2 text-lg font-medium w-full sm:w-auto",disabled:I.wishlist,children:I.wishlist?(0,o.jsx)("span",{className:"animate-pulse",children:"Loading..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{className:"w-5 h-5"})," Wishlist"]})})]}),P&&(0,o.jsx)("div",{className:`mt-4 p-2 text-sm ${"success"===_?"text-green-600":"text-red-600"}`,children:P})]})]}),(0,o.jsx)(h,{subCategoryId:b.subCategoryId||1})]}):(0,o.jsx)("p",{className:"text-center text-gray-600",children:"No product found"})}},8766:(e,t,r)=>{"use strict";r.d(t,{N4:()=>c,TU:()=>i,fS:()=>s,gY:()=>l,kp:()=>a,p:()=>d,yT:()=>n});var o=r(85209);let s=async(e,t)=>{try{let r=await o.S.post("/user/order/createOrder",{userId:e,items:t});return console.log(r),r.data}catch(e){throw console.error("Error creating order:",e),Error(e?.response?.data?.message||"Error creating order.")}},a=async e=>{try{return(await o.S.get(`/user/order/getOrderForCheckout/?orderId=${e}`)).data}catch(e){return console.error("Error fetching order for checkout:",e),{status:"error",message:e.response?.data?.message||"An error occurred while fetching the order."}}},n=async(e,t,r,s)=>{console.log("order_id:",e),console.log("razorpayId:",t),console.log("paymentId:",r),console.log("siign:",s);try{return(await o.S.post("/user/order/verify",{},{params:{orderId:e,razorpayId:t,paymentId:r,paymentSignature:s}})).data}catch(e){throw console.error("Error verifying payment:",e),Error(e?.response?.data?.message||"Error verifying payment.")}},i=async e=>{console.log("orderid:",e);try{return(await o.S.post(`/user/order/checkoutOrder?orderId=${e}`)).data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}},l=async()=>{try{return(await o.S.get("/user/order/getUserOrder")).data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}},c=async e=>{console.log(e);try{return(await o.S.put(`/user/order/cancelOrder?orderId=${e}`)).data}catch(e){throw console.error("Error cancelling order:",e),Error(e?.response?.data?.message||"Error cancelling order.")}},d=async e=>{console.log("userId:",e);try{let t=await o.S.get(`/user/order/getOrderById?orderId=${e}`);return console.log(t.data),t.data}catch(e){throw console.error("Error fetching user orders:",e),Error(e?.response?.data?.message||"Error fetching user orders.")}}},5307:(e,t,r)=>{"use strict";r.d(t,{K4:()=>s,Lp:()=>i,ZU:()=>c,Zu:()=>a,d$:()=>n,p7:()=>l}),r(58009);var o=r(85209);let s=async e=>{console.log(e);try{return(await o.S.get("/products/filteredProducts",{params:{categoryName:e?.selectedCategory,subCategoryNames:e?.selectedSubcategories,sort:e?.sortOption}})).data}catch(e){throw console.error("Error fetching filtered products:",e.message),Error("Unable to fetch filtered products. Please try again later.")}};async function a(e){try{let t=await o.S.get("/products/getProductsByCategory",{params:{subCategoryId:e}});return console.log(t.data),t.data}catch(e){throw console.error("Error fetching products by subcategory:",e.message),Error("Unable to fetch products for the selected subcategory. Please try again later.")}}async function n(e=1){try{return(await o.S.get("/products/getAllProducts",{params:{page:e}})).data}catch(e){throw console.error("Error fetching products:",e.message),Error("Unable to fetch products. Please try again later.")}}async function i(){try{return(await o.S.get("/products/getNewArrivals")).data}catch(e){throw console.error("Error fetching flash deals:",e.message),Error("Unable to fetch flash deals. Please try again later.")}}async function l(){try{let e=await o.S.get("/products/Category");return console.log(e.data),e.data}catch(e){throw console.error("Error fetching categories:",e.message),Error("Unable to fetch categories. Please try again later.")}}async function c(e){try{return(await o.S.get("/products/getProductBySearch",{params:{query:e}})).data}catch(e){throw console.error("Error fetching searched products:",e.message),Error("Unable to search for products. Please try again later.")}}},65765:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(92273),s=r(85209);let a=function(){let e=(0,o.d4)(e=>e.userData.token),t="shopflow",r=()=>({Authorization:`Bearer ${e}`,"Content-Type":"application/json"});this.loadCart=function(){let e=localStorage.getItem(t);return e?JSON.parse(e):[]},this.saveCart=function(e){localStorage.setItem(t,JSON.stringify(e))},this.migrateCart=async function(e){let t=this.loadCart();if(console.log(t,e),t.length>0){for(let r of t)try{console.log(r);let t=await this.addItemToCart(e,r.id,r.quantity);console.log("migrated",t)}catch(e){console.error("Error migrating cart item:",e)}this.clearCart()}},this.addItemToCart=async function(e,t,o=1){console.log(e),console.log(t);try{return(await s.S.post("/user/cart/addItemToCart",{},{params:{userId:e,productId:t,quantity:o},headers:r()})).data}catch(e){throw console.log(e),console.error("Error adding item to cart:",e),e.response?e.response.data:Error("Network or server error")}},this.viewCart=async function(e){try{let t=await s.S.get("/user/cart/viewCart",{params:{userId:e},headers:r()});if(200===t.status)return t.data.data||[];throw Error(t.data.message||"Failed to retrieve cart")}catch(e){throw console.error("Error viewing cart:",e),e.response?e.response.data:Error("Network or server error")}},this.deleteFromCart=async function(e,t){try{let o=await s.S.delete("/user/cart/deleteFromCart",{params:{userId:e,productId:t},headers:r()});if(200===o.status)return o.data;throw Error(o.data.message||"Failed to delete item from cart")}catch(e){throw console.error("Error deleting item from cart:",e),e.response?e.response.data:Error("Network or server error")}},this.updateCartCount=async function(e,t,o){try{let a=await s.S.put("/user/cart/cartCount",{},{params:{userId:e,productId:t,operation:o},headers:r()});if(console.log(a.status),200===a.status)return a.data;throw Error(a.data||"Failed to update cart count")}catch(e){throw console.error("Error updating cart count:",e),e}},this.clearCart=function(){localStorage.removeItem(t)}}},92919:(e,t,r)=>{"use strict";r.d(t,{UI:()=>s,lx:()=>a});var o=r(85209);async function s(e,t){console.log("wishlist");try{let e=await o.S.get("/user/wishlist/viewWishlist",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return console.log("wishlist",e),e.data.data.products||[]}catch(e){return console.error("Error loading wishlist:",e),[]}}async function a(e,t){try{return await o.S.post("/user/wishlist/addOrRemoveItem",{},{params:{productId:e},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})}catch(e){throw console.error("Error adding or removing product to wishlist:",e),e}}},14607:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});let o=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/product/[id]/Product.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/product/[id]/Product.js","default")},27553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(62740);r(76301);var s=r(14607);async function a({params:e}){let t=await e.id;return console.log("ProductId:",t),(0,o.jsx)("div",{children:(0,o.jsx)(s.default,{productId:t})})}},61910:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(94825).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},56383:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(94825).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,214,646],()=>r(56478));module.exports=o})();