(()=>{var e={};e.id=974,e.ids=[974],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},33493:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>p,routeModule:()=>u,tree:()=>c});var r=s(70260),i=s(28203),o=s(25155),a=s.n(o),n=s(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["(application)",{children:["wishlist",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94169)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js"]}]},{}]},{forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,69998)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,18988)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,26420)),"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js"],d={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(application)/wishlist/page",pathname:"/wishlist",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29690:(e,t,s)=>{Promise.resolve().then(s.bind(s,94169))},69858:(e,t,s)=>{Promise.resolve().then(s.bind(s,22853))},93525:(e,t,s)=>{"use strict";s.d(t,{UI:()=>i,lx:()=>o});var r=s(85209);async function i(e,t){try{return(await r.S.get("/user/wishlist/viewWishlist",{params:{userId:e},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data.data.products||[]}catch(e){return console.error("Error loading wishlist:",e),[]}}async function o(e,t,s){try{return await r.S.post("/user/wishlist/addOrRemoveItem",{},{params:{userId:e,productId:t},headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})}catch(e){throw console.error("Error adding or removing product to wishlist:",e),e}}},22853:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(45512),i=s(58009),o=s(93525),a=s(92273);s(28531);var n=s(65357),l=s(79334);let c=()=>{let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)(null),l=(0,a.d4)(e=>e.session.user?.id),c=(0,a.d4)(e=>e.session.token);(0,i.useEffect)(()=>{(async()=>{try{if(l){let e=await (0,o.UI)(l,c);console.log("wishlist:",e),t(e)}}catch(e){n("Failed to load wishlist. Please try again later.")}})()},[l,c]);let d=async s=>{console.log(e);try{l&&(t(e=>e.filter(e=>e.productId!==s)),await (0,o.lx)(l,s,c))}catch(e){n("Failed to remove product from wishlist. Please try again later."),console.log(e)}};return(0,r.jsx)("section",{className:"h-1/3 bg-gray-100 py-12 sm:py-16 lg:py-20",children:(0,r.jsxs)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:e.length>0?(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Your Wishlist"}):(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Your Wishlist is empty"})}),s&&(0,r.jsx)("div",{className:"text-center text-red-500 mt-4",children:s}),(0,r.jsx)("div",{className:"mx-auto mt-8 max-w-2xl md:mt-12",children:(0,r.jsx)("div",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-8 sm:py-10",children:(0,r.jsx)("div",{className:"flow-root",children:(0,r.jsx)("ul",{className:"-my-8",children:e.map((e,t)=>(0,r.jsx)(p,{product:e.product,onRemoveProduct:d},t))})})})})})]})})};function p({product:e,onRemoveProduct:t}){let s=(0,l.useRouter)(),i=(0,a.wA)();return(0,r.jsxs)("li",{className:"flex flex-col space-y-3 py-6 text-left sm:flex-row sm:space-x-5 sm:space-y-0",children:[(0,r.jsx)("div",{className:"shrink-0",children:(0,r.jsx)("img",{className:"h-24 w-24 max-w-full rounded-lg object-cover",src:e.image||"/_assets/image.png",alt:e.name})}),(0,r.jsxs)("div",{className:"relative flex flex-1 flex-col justify-between",children:[(0,r.jsx)("div",{className:"sm:col-gap-5 sm:grid sm:grid-cols-2",children:(0,r.jsxs)("div",{onClick:()=>{i((0,n.Sd)({id:e.id})),s.push(`/product/${e.name}`)},className:"pr-8 sm:pr-5",children:[(0,r.jsx)("p",{className:"text-base font-semibold text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Brand: ",e.brand]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["$",e.actualPrice]}),(0,r.jsxs)("p",{className:"text-sm text-orange-500",children:["$",e.offerPrice]}),(0,r.jsxs)("p",{className:"text-sm text-green-500",children:["(",e.discountPercentage,"% off)"]})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Rating: ",e.rating," / 5"]})]})}),(0,r.jsx)("div",{className:"absolute top-0 right-0 flex sm:bottom-0 sm:top-auto",children:(0,r.jsx)("button",{onClick:()=>t(e.id),type:"button",className:"flex rounded p-2 text-center text-gray-500 transition-all duration-200 ease-in-out focus:shadow hover:text-gray-900",children:(0,r.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]})]})}},94169:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,818,962],()=>s(33493));module.exports=r})();