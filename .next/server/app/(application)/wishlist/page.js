(()=>{var e={};e.id=974,e.ids=[974],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},26142:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(70260),a=s(28203),o=s(25155),i=s.n(o),l=s(67292),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let c=["",{children:["(application)",{children:["wishlist",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94169)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js"]}]},{}]},{forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,38934)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,18988)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,26420)),"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(application)/wishlist/page",pathname:"/wishlist",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},80015:(e,t,s)=>{Promise.resolve().then(s.bind(s,94169))},88263:(e,t,s)=>{Promise.resolve().then(s.bind(s,22853))},22853:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(45512),a=s(58009),o=s.n(a),i=s(92273),l=s(79334),n=s(92919),c=s(69576),d=s(61038),p=s(51255),u=s(56383),h=s(11766),m=s(17427);let x=()=>{console.log("Wishlist component loaded");let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),d=(0,i.d4)(e=>e.userData?.token),{toast:p}=(0,h.dj)(),u=async()=>{try{let e=await (0,n.UI)(d);t(e)}catch(e){c("Failed to load wishlist. Please try again later."),p({variant:"destructive",title:"Error",description:"Failed to load wishlist. Please try again later."})}finally{o(!1)}};(0,a.useEffect)(()=>{if(!d){o(!1);return}u()},[d,p]);let x=(0,a.useCallback)(async e=>{if(d)try{await (0,n.lx)(e,d),u(),p({title:"Success",description:"Product removed from wishlist successfully."})}catch(e){console.log(e),p({variant:"destructive",title:"Error",description:"Failed to remove product from wishlist. Please try again later."})}},[d,p]),g=(0,a.useMemo)(()=>s?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m.a,{})}):l?(0,r.jsx)("p",{className:"text-center text-red-500",children:l}):e.length?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:e.map(({product:e})=>(0,r.jsx)(f,{product:e,onRemoveProduct:x},e.productId))}):(0,r.jsx)("p",{className:"text-center text-gray-500",children:"Your wishlist is empty."}),[s,l,e,x]);return(0,r.jsx)("section",{className:"w-full min-h-screen mx-auto p-4 bg-white rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Your Wishlist"}),g]})})},f=o().memo(({product:e,onRemoveProduct:t})=>{let s=(0,l.useRouter)();return(0,r.jsxs)(c.Zp,{className:"overflow-hidden hover:scale-105 transition-transform bg-white shadow-xl rounded-lg",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{className:"h-48 w-full object-cover rounded-t-lg",src:e.image||"/_assets/image.png",alt:e.name,loading:"lazy"}),(0,r.jsx)(d.$,{variant:"ghost",className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",onClick:()=>t(e.id),children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)(c.ZB,{className:"cursor-pointer text-lg font-semibold hover:text-blue-600",onClick:()=>s.push(`/product/${e.productId}`),children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Brand: ",e.brand]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["$",e.actualPrice]}),(0,r.jsxs)("p",{className:"text-lg text-orange-500 font-semibold",children:["$",e.offerPrice]}),(0,r.jsxs)("p",{className:"text-sm text-green-500",children:["(",e.discountPercentage,"% off)"]})]}),(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-yellow-500"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 ml-1",children:[e.rating," / 5"]})]})]})]})})},17427:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var r=s(45512);s(58009);let a=()=>(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-200",children:(0,r.jsxs)("div",{className:"relative  flex items-center justify-center bg-white rounded-full shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute w-full h-full border-4 border-t-transparent border-blue-500 rounded-full animate-spin"}),(0,r.jsx)("img",{src:"/_assets/loader.gif",alt:"Loading...",className:"w-24 h-24 drop-shadow-lg"})]})})},92919:(e,t,s)=>{"use strict";s.d(t,{UI:()=>a,lx:()=>o});var r=s(85209);async function a(e,t){console.log("wishlist");try{let e=await r.S.get("/user/wishlist/viewWishlist",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return console.log("wishlist",e),e.data.data.products||[]}catch(e){return console.error("Error loading wishlist:",e),[]}}async function o(e,t){try{return await r.S.post("/user/wishlist/addOrRemoveItem",{},{params:{productId:e},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})}catch(e){throw console.error("Error adding or removing product to wishlist:",e),e}}},69576:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>l});var r=s(45512),a=s(58009),o=s(86645);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},94169:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/murali/Documents/Cloning task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/(application)/wishlist/page.js","default")},56383:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(94825).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,214,646],()=>s(26142));module.exports=r})();