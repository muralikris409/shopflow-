(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{9294:(e,r,t)=>{Promise.resolve().then(t.bind(t,487))},6046:(e,r,t)=>{"use strict";var o=t(6658);t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},5132:function(e,r,t){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.destroyCookie=r.setCookie=r.parseCookies=void 0;var s=t(5451),a=t(7079),n=t(7273);function i(e,r){var t,o;return(null===(o=null===(t=null==e?void 0:e.req)||void 0===t?void 0:t.headers)||void 0===o?void 0:o.cookie)?s.parse(e.req.headers.cookie,r):n.isBrowser()?s.parse(document.cookie,r):{}}function d(e,r,t,i){var d,l;if(void 0===i&&(i={}),(null===(d=null==e?void 0:e.res)||void 0===d?void 0:d.getHeader)&&e.res.setHeader){if(null===(l=null==e?void 0:e.res)||void 0===l?void 0:l.finished)return console.warn('Not setting "'+r+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var c=e.res.getHeader("Set-Cookie")||[];"string"==typeof c&&(c=[c]),"number"==typeof c&&(c=[]);var u=a.parse(c,{decodeValues:!1}),h=n.createCookie(r,t,i),p=[];u.forEach(function(e){if(!n.areCookiesEqual(e,h)){var r=s.serialize(e.name,e.value,o({encode:function(e){return e}},e));p.push(r)}}),p.push(s.serialize(r,t,i)),e.res.setHeader("Set-Cookie",p)}if(n.isBrowser()){if(i&&i.httpOnly)throw Error("Can not set a httpOnly cookie in the browser.");document.cookie=s.serialize(r,t,i)}return{}}function l(e,r,t){return d(e,r,"",o(o({},t||{}),{maxAge:-1}))}r.parseCookies=i,r.setCookie=d,r.destroyCookie=l,r.default={set:d,get:i,destroy:l}},7273:function(e,r){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e}).apply(this,arguments)};function o(e,r){var t=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(r);if(t.length!==o.length)return!1;for(var s=0;s<t.length;s++){var a=t[s];if(e[a]!==r[a])return!1}return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.areCookiesEqual=r.hasSameProperties=r.createCookie=r.isBrowser=void 0,r.isBrowser=function(){return"undefined"!=typeof window},r.createCookie=function(e,r,o){var s=o.sameSite;!0===s&&(s="strict"),(void 0===s||!1===s)&&(s="lax");var a=t(t({},o),{sameSite:s});return delete a.encode,t({name:e,value:r},a)},r.hasSameProperties=o,r.areCookiesEqual=function(e,r){var s=e.sameSite===r.sameSite;return"string"==typeof e.sameSite&&"string"==typeof r.sameSite&&(s=e.sameSite.toLowerCase()===r.sameSite.toLowerCase()),o(t(t({},e),{sameSite:void 0}),t(t({},r),{sameSite:void 0}))&&s}},5451:(e,r)=>{"use strict";r.parse=function(e,r){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var o={},s=e.split(";"),a=(r||{}).decode||t,n=0;n<s.length;n++){var i=s[n],d=i.indexOf("=");if(!(d<0)){var l=i.substring(0,d).trim();if(void 0==o[l]){var c=i.substring(d+1,i.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),o[l]=function(e,r){try{return r(e)}catch(r){return e}}(c,a)}}}return o},r.serialize=function(e,r,t){var a=t||{},n=a.encode||o;if("function"!=typeof n)throw TypeError("option encode is invalid");if(!s.test(e))throw TypeError("argument name is invalid");var i=n(r);if(i&&!s.test(i))throw TypeError("argument val is invalid");var d=e+"="+i;if(null!=a.maxAge){var l=a.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(l)}if(a.domain){if(!s.test(a.domain))throw TypeError("option domain is invalid");d+="; Domain="+a.domain}if(a.path){if(!s.test(a.path))throw TypeError("option path is invalid");d+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");d+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(d+="; HttpOnly"),a.secure&&(d+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return d};var t=decodeURIComponent,o=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},7079:e=>{"use strict";var r={decodeValues:!0,map:!1,silent:!1};function t(e){return"string"==typeof e&&!!e.trim()}function o(e,o){var s,a,n,i,d=e.split(";").filter(t),l=(s=d.shift(),a="",n="",(i=s.split("=")).length>1?(a=i.shift(),n=i.join("=")):n=s,{name:a,value:n}),c=l.name,u=l.value;o=o?Object.assign({},r,o):r;try{u=o.decodeValues?decodeURIComponent(u):u}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+u+"'. Set options.decodeValues to false to disable this feature.",e)}var h={name:c,value:u};return d.forEach(function(e){var r=e.split("="),t=r.shift().trimLeft().toLowerCase(),o=r.join("=");"expires"===t?h.expires=new Date(o):"max-age"===t?h.maxAge=parseInt(o,10):"secure"===t?h.secure=!0:"httponly"===t?h.httpOnly=!0:"samesite"===t?h.sameSite=o:"partitioned"===t?h.partitioned=!0:h[t]=o}),h}function s(e,s){if(s=s?Object.assign({},r,s):r,!e)return s.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var a=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];a||!e.headers.cookie||s.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=a}}return(Array.isArray(e)||(e=[e]),s.map)?e.filter(t).reduce(function(e,r){var t=o(r,s);return e[t.name]=t,e},{}):e.filter(t).map(function(e){return o(e,s)})}e.exports=s,e.exports.parse=s,e.exports.parseString=o,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var r,t,o,s,a,n=[],i=0;function d(){for(;i<e.length&&/\s/.test(e.charAt(i));)i+=1;return i<e.length}for(;i<e.length;){for(r=i,a=!1;d();)if(","===(t=e.charAt(i))){for(o=i,i+=1,d(),s=i;i<e.length&&"="!==(t=e.charAt(i))&&";"!==t&&","!==t;)i+=1;i<e.length&&"="===e.charAt(i)?(a=!0,i=s,n.push(e.substring(r,o)),r=i):i=o+1}else i+=1;(!a||i>=e.length)&&n.push(e.substring(r,e.length))}return n}},487:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var o=t(5155),s=t(2115),a=t(9208);t(6301);var n=t(2738),i=t(8977),d=t(6046),l=t(3391),c=t(9398);let u=e=>{let{title:r,orderId:t}=e,u=(0,d.useRouter)(),h=(0,l.d4)(e=>{var r;return null===(r=e.userData.user)||void 0===r?void 0:r.id}),{toast:p}=(0,c.dj)(),[m,g]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),y=(0,l.d4)(e=>{var r,t;return null==e?void 0:null===(t=e.userData)||void 0===t?void 0:null===(r=t.user)||void 0===r?void 0:r.phone}),[w,x]=(0,s.useState)([]),[S,b]=(0,s.useState)(y||""),[E,k]=(0,s.useState)(""),[A,j]=(0,s.useState)([]),[N,C]=(0,s.useState)(null),[O,T]=(0,s.useState)(!1),[P,_]=(0,s.useState)(),I=(0,l.d4)(e=>{var r;return null==e?void 0:null===(r=e.userData)||void 0===r?void 0:r.token}),[z,D]=(0,s.useState)({street:"",city:"",state:"",country:"",zip:""}),[R,q]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",document.body.appendChild(e),B(),U(),()=>{document.body.removeChild(e)}},[h]);let B=async()=>{g(!0);let e=await (0,i.Ad)(I,h);if((null==e?void 0:e.status)==="success"){j(e.data);let r=e.data.find(e=>e.isPrimary);r&&C(r)}else console.error((null==e?void 0:e.message)||"Error retrieving address");g(!1)},U=async()=>{g(!0);try{let e=await (0,n.kp)(t);console.log(e),"success"===e.status?(x(e.data.items),_(e.data.totalAmount)):console.error((null==e?void 0:e.message)||"Error fetching order data")}catch(e){console.error("Error fetching order data:",e)}finally{g(!1)}},M=()=>S.trim()&&/^\d{10}$/.test(S)?"":"Valid phone number is required (10 digits).",L=(e,r)=>{let t="";return(null==r?void 0:r.trim())?"zip"!==e||/^[0-9]{5,6}$/.test(r)||(t="ZIP code must be 5-6 digits."):t="".concat(e.replace(/([A-Z])/g," $1")," is required."),q(r=>({...r,[e]:t})),!t},$=e=>{let{name:r,value:t}=e.target;D(e=>({...e,[r]:t})),L(r,t)},V=async()=>{if(Object.keys(z).every(e=>L(e,z[e])))try{let e=await (0,i.E1)(I,h,z);"success"===e.status?(B(),T(!1),D({street:"",city:"",state:"",country:"",zip:""})):console.error(e.message)}catch(e){console.error(e)}};console.log("rzp_test_1gTn0x73jrN12q");let H=async()=>{if(M()||!N){f("Please provide a valid phone number and select an address.");return}g(!0),f(null);try{let{razorpayOrder:e,...r}=await (0,n.TU)(t),o={key:"rzp_test_1gTn0x73jrN12q",amount:Math.ceil(100*P),currency:null==e?void 0:e.currency,name:"Shopflow",description:"Payment for your order",order_id:null==e?void 0:e.id,handler:async function(e){let{razorpay_payment_id:r,razorpay_signature:o,razorpay_order_id:s}=e;console.log("textoid",t,w);try{g(!0);let e=await (0,n.yT)(t,s,r,o);g(!1),e.success?(a.A.set("orderId",t),u.push("/orders/success")):p({title:"Payment failed",description:"Payment verification failed. Please try again.",variant:"destructive"})}catch(e){p({title:"Payment failed",description:"An unexpected error occurred during verification. Please try again.",variant:"destructive"})}},prefill:{name:N.fullName,email:"customer@example.com",contact:S},theme:{color:"#F37254"},modal:{ondismiss:async()=>{p({title:"Payment failed",description:"Payment was cancelled by the user. Please try again.",variant:"destructive"})}}};new window.Razorpay(o).open()}catch(e){f("Payment process failed. Please try again.")}finally{g(!1)}};return(0,s.useEffect)(()=>{k(M())},[S]),(0,o.jsxs)("div",{className:"bg-gray-100",children:[v&&(0,o.jsx)("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:v}),(0,o.jsxs)("div",{className:"p-6 shadow-md bg-white",children:[(0,o.jsx)("h1",{className:"text-xl font-semibold border-b pb-4",children:r}),(0,o.jsxs)("div",{className:"mb-6 mt-4",children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone Number"}),(0,o.jsx)("input",{type:"text",value:S,onChange:e=>b(e.target.value),className:"w-full rounded-lg border p-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(E?"border-red-500 ring-red-500":"border-gray-300"),placeholder:"Enter your 10-digit phone number"}),E&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-2 italic",children:E})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h2",{className:"text-lg font-medium text-gray-700",children:"Select Delivery Address"}),(0,o.jsx)("div",{className:"mt-2 border rounded p-4",children:A.map(e=>(0,o.jsxs)("div",{className:"flex items-center mb-4 p-4 rounded-lg border-2 ".concat((null==N?void 0:N.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-300 bg-white"," shadow-sm hover:shadow-md transition-shadow duration-200"),children:[(0,o.jsx)("input",{type:"radio",name:"address",checked:(null==N?void 0:N.id)===e.id,onChange:()=>C(e),className:"mr-4 h-5 w-5 accent-blue-500 cursor-pointer"}),(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("p",{className:"text-base text-blue-700 font-semibold",children:e.street}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"".concat(e.city,", ").concat(e.state,", ").concat(e.zip)})]})]},e.id))}),(0,o.jsx)("button",{className:"text-blue-600 underline mt-2",onClick:()=>T(!O),children:O?"":"+ Add New Address"}),O&&(0,o.jsxs)("div",{className:"mt-4 border rounded p-4 bg-gray-50",children:[Object.keys(z).map(e=>(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{className:"block text-sm font-medium capitalize text-gray-600",htmlFor:e,children:e.replace(/([A-Z])/g," $1")}),(0,o.jsx)("input",{type:"text",id:e,name:e,value:z[e],onChange:$,className:"w-full rounded border p-2 text-sm ".concat(R[e]?"border-red-500":"border-gray-300"),placeholder:"Enter ".concat(e.replace(/([A-Z])/g," $1").toLowerCase())}),R[e]&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:R[e]})]},e)),(0,o.jsx)("button",{className:"bg-red-600 mx-2 text-white py-2 px-4 rounded mt-2 hover:bg-red-700",onClick:()=>{T(!1),D({street:"",city:"",state:"",country:"",zip:""})},children:"cancel"}),(0,o.jsx)("button",{className:"bg-gray-800 text-white py-2 px-4 rounded mt-2 hover:bg-gray-700",onClick:V,children:"Save Address"})]})]}),(0,o.jsxs)("div",{className:"mt-4 ".concat(!N||E?"opacity-50 pointer-events-none":""),children:[(0,o.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-4 border-b pb-2",children:"Order Summary"}),null==w?void 0:w.map((e,r)=>{var t,s,a,n,i;return(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o.jsx)("img",{className:"w-20 h-20 object-cover rounded border",src:(null===(t=e.product)||void 0===t?void 0:t.image)||"/_assets/image.png",alt:null===(s=e.product)||void 0===s?void 0:s.name}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:null===(a=e.product)||void 0===a?void 0:a.name}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:null===(n=e.product)||void 0===n?void 0:n.description}),(0,o.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:["$",null===(i=e.product)||void 0===i?void 0:i.offerPrice," x ",e.quantity]})]})]},r)}),(0,o.jsx)("div",{className:"border-t pt-4",children:(0,o.jsxs)("p",{className:"font-medium text-lg text-gray-800",children:["Total: $",P]})})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsx)("button",{className:"w-full p-3 rounded text-white ".concat(m?"bg-gray-500":"bg-gray-600 hover:bg-gray-700"),disabled:!N||E||m,onClick:H,children:m?"Processing...":"Proceed to Payment"})})]})]})}},2738:(e,r,t)=>{"use strict";t.d(r,{N4:()=>l,TU:()=>i,fS:()=>s,gY:()=>d,kp:()=>a,p:()=>c,yT:()=>n});var o=t(6301);let s=async e=>{try{let r=await o.S.post("/user/order/createOrder",{items:e});return console.log(r),r.data}catch(e){var r,t;throw console.error("Error creating order:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error creating order.")}},a=async e=>{try{return(await o.S.get("/user/order/getOrderForCheckout/?orderId=".concat(e))).data}catch(e){var r,t;return console.error("Error fetching order for checkout:",e),{status:"error",message:(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred while fetching the order."}}},n=async(e,r,t,s)=>{console.log("order_id:",e),console.log("razorpayId:",r),console.log("paymentId:",t),console.log("siign:",s);try{return(await o.S.post("/user/order/verify",{},{params:{orderId:e,razorpayId:r,paymentId:t,paymentSignature:s}})).data}catch(e){var a,n;throw console.error("Error verifying payment:",e),Error((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Error verifying payment.")}},i=async e=>{console.log("orderid:",e);try{return(await o.S.post("/user/order/checkoutOrder?orderId=".concat(e))).data}catch(e){var r,t;throw console.error("Error fetching user orders:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error fetching user orders.")}},d=async()=>{try{return(await o.S.get("/user/order/getUserOrder")).data}catch(t){var e,r;throw console.error("Error fetching user orders:",t),Error((null==t?void 0:null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"Error fetching user orders.")}},l=async e=>{console.log(e);try{return(await o.S.put("/user/order/cancelOrder?orderId=".concat(e))).data}catch(e){var r,t;throw console.error("Error cancelling order:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error cancelling order.")}},c=async e=>{console.log("userId:",e);try{let r=await o.S.get("/user/order/getOrderById?orderId=".concat(e));return console.log(r.data),r.data}catch(e){var r,t;throw console.error("Error fetching user orders:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error fetching user orders.")}}},8977:(e,r,t)=>{"use strict";t.d(r,{Ad:()=>u,BD:()=>d,E1:()=>p,Hh:()=>i,PC:()=>g,RW:()=>c,bJ:()=>h,d6:()=>n,iD:()=>a,xw:()=>l,yU:()=>m});var o=t(6301),s=t(5132);async function a(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{email:t,password:a}=e;try{let e=await o.S.post("user/login",{email:t,password:a});console.log(e.data);let{token:n,data:i}=e.data;return console.log(n,i),(0,s.setCookie)(r,"shopflow_session",JSON.stringify({user:i,token:n}),{maxAge:2592e3,path:"/",sameSite:"lax"}),{data:i,token:n}}catch(e){throw console.log(e),Error(e.response.data.message||"An error occurred during login.")}}async function n(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let t=await o.S.post("user/oauth",{...e});console.log("google auth b-end res after gauth",t);let{token:a,data:n}=t.data;return(0,s.setCookie)(r,"shopflow_session",JSON.stringify({user:n,token:a}),{maxAge:2592e3,path:"/",sameSite:"lax"}),t.data}catch(e){var t,a;throw Error((null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(t=a.response)||void 0===t?void 0:t.message)||"An error occurred during Google OAuth.")}}async function i(e){let{username:r,email:t,password:s}=e;try{return(await o.S.post("user/signup",{name:r,email:t,password:s},{headers:{"Content-Type":"application/json"}})).data}catch(e){throw Error(e.response.data.message||"An error occurred during sign-up.")}}async function d(e){try{var r;let t=await o.S.post("user/forgotPassword?email=".concat(e));if(console.log(t),200===t.status)return{ok:!0,data:t.data};return{ok:!1,message:(null===(r=t.data)||void 0===r?void 0:r.message)||"Something went wrong."}}catch(e){throw console.log(e),e}}async function l(e,r){try{return await o.S.post("user/resetPassword?token=".concat(e,"&newPassword=").concat(r))}catch(e){console.log(e)}}async function c(e,r,t){try{console.log("test");let s=await o.S.put("user/updateUserProfile?userId=".concat(r),t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});return console.log(s),s}catch(e){throw console.log(e),e}}async function u(e,r){try{console.log("token",e);let t=await o.S.get("user/getAllAddress?userId=".concat(r),{headers:{Authorization:"Bearer ".concat(e)}});return console.log(t),t.data}catch(e){return console.error("Error fetching addresses:",e),{error:e.message||"Something went wrong!"}}}let h=async(e,r,t)=>{try{let s=await o.S.put("user/makePrimaryAddress",{},{params:{userId:r,addressId:t},headers:{Authorization:"Bearer ".concat(e)}});return console.log(s),s.data}catch(e){return console.error("Error fetching addresses:",e),{error:e.message||"Something went wrong!"}}},p=async(e,r,t)=>{try{let{street:s,city:a,state:n,country:i,zip:d,isPrimary:l}=t;return(await o.S.post("user/addAddress",{},{params:{userId:r,street:s,city:a,state:n,country:i,zip:d,isPrimary:l},headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var s,a;return console.error("Error adding address:",e),{error:(null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||"Something went wrong!"}}},m=async(e,r,t,s)=>{try{let{street:a,city:n,state:i,country:d,zip:l,isPrimary:c}=s;return(await o.S.put("user/editAddress",{},{params:{userId:r,addressId:t,street:a,city:n,state:i,country:d,zip:l,isPrimary:c},headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var a,n;return console.error("Error adding address:",e),{error:(null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Something went wrong!"}}},g=async(e,r,t)=>{try{return(await o.S.delete("user/deleteAddress",{params:{userId:r,addressId:t},headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var s,a;return console.error("Error adding address:",e),{error:(null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||"Something went wrong!"}}}},6301:(e,r,t)=>{"use strict";t.d(r,{S:()=>a});var o=t(2651),s=t(9208);let a=o.A.create({baseURL:"https://shopflow-1-ugli.onrender.com"});a.interceptors.request.use(e=>{var r;let t=s.A.get("shopflow_session");if(!t)return e;let o=null===(r=JSON.parse(t))||void 0===r?void 0:r.token;return o&&(e.headers.Authorization="Bearer ".concat(o)),e},e=>Promise.reject(e))},9398:(e,r,t)=>{"use strict";t.d(r,{dj:()=>h,oR:()=>u});var o=t(2115);let s=0,a=new Map,n=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},i=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},d=[],l={toasts:[]};function c(e){l=i(l,e),d.forEach(e=>{e(l)})}function u(e){let{...r}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||o()}}}),{id:t,dismiss:o,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function h(){let[e,r]=o.useState(l);return o.useEffect(()=>(d.push(r),()=>{let e=d.indexOf(r);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var r=r=>e(e.s=r);e.O(0,[794,391,441,517,358],()=>r(9294)),_N_E=e.O()}]);