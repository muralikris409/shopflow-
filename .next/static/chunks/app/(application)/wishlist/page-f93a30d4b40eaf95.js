(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453,974],{6433:(e,t,s)=>{Promise.resolve().then(s.bind(s,9453))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(5155),a=s(2115),i=s(3391),o=s(6046),n=s(9765),l=s(728),d=s(7370),c=s(689),u=s(6039),m=s(9398),h=s(2089);let f=()=>{console.log("Wishlist component loaded");let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null),c=(0,i.d4)(e=>{var t;return null===(t=e.userData)||void 0===t?void 0:t.token}),{toast:u}=(0,m.dj)(),f=async()=>{try{let e=await (0,n.UI)(c);t(e)}catch(e){d("Failed to load wishlist. Please try again later."),u({variant:"destructive",title:"Error",description:"Failed to load wishlist. Please try again later."})}finally{o(!1)}};(0,a.useEffect)(()=>{if(!c){o(!1);return}f()},[c,u]);let g=(0,a.useCallback)(async e=>{if(c)try{await (0,n.lx)(e,c),f(),u({title:"Success",description:"Product removed from wishlist successfully."})}catch(e){console.log(e),u({variant:"destructive",title:"Error",description:"Failed to remove product from wishlist. Please try again later."})}},[c,u]),x=(0,a.useMemo)(()=>s?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.a,{})}):l?(0,r.jsx)("p",{className:"text-center text-red-500",children:l}):e.length?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:e.map(e=>{let{product:t}=e;return(0,r.jsx)(p,{product:t,onRemoveProduct:g},t.productId)})}):(0,r.jsx)("p",{className:"text-center text-gray-500",children:"Your wishlist is empty."}),[s,l,e,g]);return(0,r.jsx)("section",{className:"w-full min-h-screen mx-auto p-4 bg-white rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Your Wishlist"}),x]})})},p=a.memo(e=>{let{product:t,onRemoveProduct:s}=e,a=(0,o.useRouter)();return(0,r.jsxs)(l.Zp,{className:"overflow-hidden hover:scale-105 transition-transform bg-white shadow-xl rounded-lg",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{className:"h-48 w-full object-cover rounded-t-lg",src:t.image||"/_assets/image.png",alt:t.name,loading:"lazy"}),(0,r.jsx)(d.$,{variant:"ghost",className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",onClick:()=>s(t.id),children:(0,r.jsx)(c.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)(l.ZB,{className:"cursor-pointer text-lg font-semibold hover:text-blue-600",onClick:()=>a.push("/product/".concat(t.id)),children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Brand: ",t.brand]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["$",t.actualPrice]}),(0,r.jsxs)("p",{className:"text-lg text-orange-500 font-semibold",children:["$",t.offerPrice]}),(0,r.jsxs)("p",{className:"text-sm text-green-500",children:["(",t.discountPercentage,"% off)"]})]}),(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-yellow-500"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 ml-1",children:[t.rating," / 5"]})]})]})]})})},2089:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var r=s(5155);s(2115);let a=()=>(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-200",children:(0,r.jsxs)("div",{className:"relative  flex items-center justify-center bg-white rounded-full shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute w-full h-full border-4 border-t-transparent border-blue-500 rounded-full animate-spin"}),(0,r.jsx)("img",{src:"/_assets/loader.gif",alt:"Loading...",className:"w-24 h-24 drop-shadow-lg"})]})})},9765:(e,t,s)=>{"use strict";s.d(t,{UI:()=>a,lx:()=>i});var r=s(6301);async function a(e,t){console.log("wishlist");try{let e=await r.S.get("/user/wishlist/viewWishlist",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("wishlist",e),e.data.data.products||[]}catch(e){return console.error("Error loading wishlist:",e),[]}}async function i(e,t){try{return await r.S.post("/user/wishlist/addOrRemoveItem",{},{params:{productId:e},headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(e){throw console.error("Error adding or removing product to wishlist:",e),e}}},6301:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(2651),a=s(9208);let i=r.A.create({baseURL:"https://shopflow-1-ugli.onrender.com"});i.interceptors.request.use(e=>{var t;let s=a.A.get("shopflow_session");if(!s)return e;let r=null===(t=JSON.parse(s))||void 0===t?void 0:t.token;return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e))},7370:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),i=s(2317),o=s(1027),n=s(7849);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:o,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(l({variant:a,size:o,className:s})),ref:t,...c})});d.displayName="Button"},728:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>n});var r=s(5155),a=s(2115),i=s(7849);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});o.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},9398:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m,oR:()=>u});var r=s(2115);let a=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=n(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7849:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(3463),a=s(9795);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},6039:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4057).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},689:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[794,391,129,441,517,358],()=>t(6433)),_N_E=e.O()}]);