(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{1094:(e,r,t)=>{Promise.resolve().then(t.bind(t,8683))},6046:(e,r,t)=>{"use strict";var a=t(6658);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},8683:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(5155),s=t(8173),o=t.n(s),d=t(2115),l=t(2738);let n=e=>{let{title:r,children:t,href:s}=e;return(0,a.jsxs)("div",{className:"mb-4 bg-white p-4 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:r}),(0,a.jsx)(o(),{href:s,className:"text-orange-500 hover:underline text-sm font-medium",children:"View More"})]}),(0,a.jsx)("div",{className:"flex overflow-x-auto  scrollbar-hide scrollbar-thumb-orange-500 scrollbar-track-gray-200",children:d.Children.map(t,(e,r)=>(0,a.jsx)("div",{className:"mx-1 flex-shrink-0 w-64",children:e},r))})]})};var i=t(459),c=t(9208);let m=()=>(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(u,{})}),u=()=>{var e,r;let[t,s]=(0,d.useState)(null),[m,u]=(0,d.useState)(!0),[x,g]=(0,d.useState)(null),h=c.A.get("orderId");(0,d.useEffect)(()=>{(async()=>{try{if(!h)throw Error("Order ID not found in cookies");let e=await (0,l.p)(h);console.log(e),s(e.data),c.A.set("orderDetails",JSON.stringify(e.data),{expires:7})}catch(e){g("Failed to fetch order details")}finally{u(!1)}})()},[h]);let p=(null==t?void 0:t.orderDate)?new Date(t.orderDate).toLocaleDateString():"N/A",v=(null==t?void 0:t.totalAmount)?t.totalAmount.toLocaleString():"N/A";return m?(0,a.jsx)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:(0,a.jsx)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Loading order details..."})})}):x||!t?(0,a.jsx)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:(0,a.jsxs)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Oops! Something went wrong."}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 md:mb-8",children:"We couldn't retrieve your order details. Please try again later or contact support."}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(o(),{href:"/",className:"py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Return to shopping"})})]})}):(0,a.jsxs)("section",{className:"bg-white py-8 antialiased dark:bg-gray-900 md:py-16",children:[(0,a.jsxs)("div",{className:"mx-auto max-w-2xl px-4 2xl:px-0",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl mb-2",children:"Thanks for your order!"}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 md:mb-8",children:["Your order"," ",(0,a.jsxs)("a",{href:"#",className:"font-medium text-gray-900 dark:text-white hover:underline",children:["#",h||"N/A"]})," ","will be processed within 24 hours during working days. We will notify you by email once your order has been shipped."]}),(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-2 rounded-lg border border-gray-100 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800 mb-6 md:mb-8",children:[(0,a.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,a.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Order Date"}),(0,a.jsx)("dd",{className:"font-medium text-gray-900 dark:text-white sm:text-end",children:p})]}),(0,a.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,a.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Order Status"}),(0,a.jsx)("dd",{className:"font-medium sm:text-end ".concat("CONFIRMED"===t.orderStatus?"text-green-500":"text-red-500"),children:t.orderStatus||"N/A"})]}),(0,a.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,a.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Payment Status"}),(0,a.jsx)("dd",{className:"font-medium sm:text-end ".concat("COMPLETED"===t.paymentStatus?"text-green-500":"text-red-500"),children:t.paymentStatus||"N/A"})]}),(0,a.jsxs)("dl",{className:"sm:flex items-center justify-between gap-4",children:[(0,a.jsx)("dt",{className:"font-normal mb-1 sm:mb-0 text-gray-500 dark:text-gray-400",children:"Total Amount"}),(0,a.jsxs)("dd",{className:"font-medium text-gray-900 dark:text-white sm:text-end",children:["$ ",v]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-4 border-b pb-2",children:"Order Summary"}),null==t?void 0:null===(e=t.product)||void 0===e?void 0:e.map((e,r)=>{var t,s,o,d,l;return(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("img",{className:"w-20 h-20 object-cover rounded border",src:(null===(t=e.product)||void 0===t?void 0:t.image)||"/_assets/image.png",alt:null===(s=e.product)||void 0===s?void 0:s.name}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:null===(o=e.product)||void 0===o?void 0:o.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:null===(d=e.product)||void 0===d?void 0:d.description}),(0,a.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:["$",null===(l=e.product)||void 0===l?void 0:l.offerPrice," x ",e.quantity]})]})]},r)}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("p",{className:"font-medium text-lg text-gray-800",children:["Total: $ ",v]})})]}),(0,a.jsx)("div",{className:"flex items-center mt-4",children:(0,a.jsx)(o(),{href:"/",className:"py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Return to shopping"})})]}),(0,a.jsx)(n,{title:"Picks for you",href:"/products",children:(null==t?void 0:t.similarProducts)&&(null==t?void 0:null===(r=t.similarProducts)||void 0===r?void 0:r.length)>0?null==t?void 0:t.similarProducts.map((e,r)=>(0,a.jsx)(i.default,{product:e},e.id||r)):(0,a.jsx)("p",{className:"text-gray-500",children:"No products available."})})]})}},459:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(5155);t(8173);var s=t(6046);t(2115);var o=t(3391),d=t(2895);let l=e=>{let{product:r}=e,t=(0,o.wA)(),l=(0,s.useRouter)();return(0,a.jsx)("div",{onClick:()=>{t((0,d.Sd)({id:r.id})),l.push("/product/".concat(r.name))},children:(0,a.jsxs)("div",{className:"relative max-h-30 m-5 flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md",children:[(0,a.jsxs)("div",{className:"relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl",children:[(0,a.jsx)("img",{className:"object-cover w-full",src:(null==r?void 0:r.image)||"/_assets/image.png",alt:(null==r?void 0:r.name)||"Placeholder Image"}),r.discountPercentage&&(0,a.jsxs)("span",{className:"absolute top-0 left-0 m-2 rounded-full bg-black px-2 text-center text-sm font-medium text-white",children:[r.discountPercentage,"% OFF"]})]}),(0,a.jsxs)("div",{className:"mt-1 px-5 pb-5",children:[(0,a.jsx)("h5",{className:"text-xl tracking-tight text-slate-900",children:r.name||"Unnamed Product"}),(0,a.jsx)("div",{className:"mt-1 flex items-center justify-between",children:(0,a.jsx)("p",{children:r.actualPrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-slate-900",children:["$",r.offerPrice]}),r.actualPrice&&(0,a.jsxs)("span",{className:"text-sm ml-1 text-slate-900 line-through",children:["$",r.actualPrice]})]}):(0,a.jsx)("span",{className:"text-gray-500",children:"Price not available"})})}),(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[r.rating?Array.from({length:r.rating}).map((e,t)=>(0,a.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4 ".concat(t<r.rating?"text-yellow-300":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)):(0,a.jsx)("span",{className:"text-gray-500",children:"No ratings yet"}),r.rating&&(0,a.jsx)("span",{className:"mr-2 ml-3 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold",children:r.rating})]})]})]})})}},2895:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>d,Dh:()=>o,Sd:()=>s});let a=(0,t(8943).Z0)({name:"props",initialState:{product:null,history:null},reducers:{setProductData(e,r){console.log(r),e.product=r.payload,console.log(r.payload)},setHistory(e,r){e.history=r.payload,console.log(e.history)}}}),{setProductData:s,setHistory:o}=a.actions,d=a.reducer},2738:(e,r,t)=>{"use strict";t.d(r,{N4:()=>i,TU:()=>l,fS:()=>s,gY:()=>n,kp:()=>o,p:()=>c,yT:()=>d});var a=t(6301);let s=async(e,r)=>{try{return(await a.S.post("/user/order/createOrder",{userId:e,items:r})).data}catch(e){var t,s;throw console.error("Error creating order:",e),Error((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error creating order.")}},o=async e=>{try{return(await a.S.get("/user/order/getOrderForCheckout/?orderId=".concat(e))).data}catch(e){var r,t;return console.error("Error fetching order for checkout:",e),{status:"error",message:(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred while fetching the order."}}},d=async(e,r,t,s)=>{console.log("order_id:",e),console.log("razorpayId:",r),console.log("paymentId:",t),console.log("siign:",s);try{return(await a.S.post("/user/order/verify",{},{params:{orderId:e,razorpayId:r,paymentId:t,paymentSignature:s}})).data}catch(e){var o,d;throw console.error("Error verifying payment:",e),Error((null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:o.message)||"Error verifying payment.")}},l=async e=>{console.log("orderid:",e);try{return(await a.S.post("/user/order/checkoutOrder?orderId=".concat(e))).data}catch(e){var r,t;throw console.error("Error fetching user orders:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error fetching user orders.")}},n=async e=>{console.log("userId:",e);try{return(await a.S.get("/user/order/getUserOrder?userId=".concat(e))).data}catch(e){var r,t;throw console.error("Error fetching user orders:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error fetching user orders.")}},i=async e=>{console.log(e);try{return(await a.S.put("/user/order/cancelOrder?orderId=".concat(e))).data}catch(e){var r,t;throw console.error("Error cancelling order:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error cancelling order.")}},c=async e=>{console.log("userId:",e);try{let r=await a.S.get("/user/order/getOrderById?orderId=".concat(e));return console.log(r.data),r.data}catch(e){var r,t;throw console.error("Error fetching user orders:",e),Error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error fetching user orders.")}}},6301:(e,r,t)=>{"use strict";t.d(r,{S:()=>a});let a=t(2651).A.create({baseURL:"http://192.168.0.114:5000"})},9208:(e,r,t)=>{"use strict";function a(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)e[a]=t[a]}return e}t.d(r,{A:()=>s});var s=function e(r,t){function s(e,s,o){if("undefined"!=typeof document){"number"==typeof(o=a({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var l in o)o[l]&&(d+="; "+l,!0!==o[l]&&(d+="="+o[l].split(";")[0]));return document.cookie=e+"="+r.write(s,e)+d}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],a={},s=0;s<t.length;s++){var o=t[s].split("="),d=o.slice(1).join("=");try{var l=decodeURIComponent(o[0]);if(a[l]=r.read(d,l),e===l)break}catch(e){}}return e?a[e]:a}},remove:function(e,r){s(e,"",a({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,a({},this.attributes,r))},withConverter:function(r){return e(a({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var r=r=>e(e.s=r);e.O(0,[651,391,943,173,441,517,358],()=>r(1094)),_N_E=e.O()}]);