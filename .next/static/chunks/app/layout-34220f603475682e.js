(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6038:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8173,23)),Promise.resolve().then(r.t.bind(r,5795,23)),Promise.resolve().then(r.t.bind(r,9497,23)),Promise.resolve().then(r.bind(r,6085)),Promise.resolve().then(r.bind(r,5712)),Promise.resolve().then(r.bind(r,1286)),Promise.resolve().then(r.t.bind(r,347,23))},6085:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var s=r(5155),a=r(2115);let n=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 text-gray-50",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})});var l=r(8173),o=r.n(l),i=r(3391),c=r(6046),d=r(1889),u=r(2615),h=r(1536),p=r(9208);function m(){let[e,t]=(0,a.useState)(!1),r=(0,i.wA)(),n=(0,c.useRouter)(),{data:l}=(0,u.useSession)(),m=(0,i.d4)(e=>{var t;return null==e?void 0:null===(t=e.session)||void 0===t?void 0:t.user}),x=()=>{let e=p.A.get("shopflow_session");if(e)try{let t=JSON.parse(e);r((0,d.Nq)(t))}catch(e){console.error("Failed to parse user data from cookies:",e)}},f=async()=>{try{l&&await (0,u.signOut)({callbackUrl:"/"}),p.A.remove("shopflow_session"),r((0,d.Nq)({})),n.reload("/")}catch(e){console.error("Sign-out error:",e)}};return(0,a.useEffect)(()=>{m||x();let e=e=>{let r=document.getElementById("dropdownAvatar");r&&!r.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{id:"dropdownUserAvatarButton",onClick:()=>{t(e=>!e)},className:"flex items-center text-sm bg-gray-800 px-3 py-1 rounded-md focus:outline-none",type:"button","aria-expanded":e,"aria-haspopup":"true",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-500 flex justify-center items-center mr-2",children:(null==m?void 0:m.image)?(0,s.jsx)("img",{src:(null==m?void 0:m.profile_pic)||"/_assets/user.png",alt:"User Profile",className:"w-full h-full object-cover"}):(0,s.jsx)(h.NBi,{className:"text-white text-3xl"})}),(0,s.jsx)("span",{className:"font-medium text-white hover:text-orange-500",children:(null==m?void 0:m.name)||"Sign in"})]})}),e&&(0,s.jsx)("div",{id:"dropdownAvatar",className:"absolute right-0 z-10 bg-white rounded-lg shadow w-56 dark:bg-gray-700",children:(null==m?void 0:m.name)?(0,s.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-200",children:[(0,s.jsx)("li",{className:"px-4 py-3",children:(0,s.jsx)("button",{className:"w-full text-left block bg-orange-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-orange-600",onClick:f,children:"Sign out"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/user/profile",className:"block hover:text-orange-500 hover:underline",children:"My Account"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/orders",className:"block hover:text-orange-500 hover:underline",children:"My Orders"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/cart",className:"block hover:text-orange-500 hover:underline",children:"My Cart"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/wishlist",className:"block hover:text-orange-500 hover:underline",children:"My Wishlist"})})]}):(0,s.jsx)("div",{className:"p-4 text-center",children:(0,s.jsx)(o(),{href:"/auth",className:"block mb-2 text-orange-500 font-medium text-sm",children:"Sign in or New Customer start here.."})})})]})}let x=e=>{let{menuData:t=[]}=e,[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"bg-gray-900 text-white relative h-10",children:(0,s.jsx)("div",{className:"flex items-center justify-between w-3/5 sm:px-3 lg:px-6  py-4",children:(0,s.jsxs)("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 bg-gray-800 rounded-t-md px-1",children:[(0,s.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Categories"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,s.jsx)("div",{className:"absolute top-full left-0 bg-white text-black shadow-lg w-40 z-50",children:null==t?void 0:t.map((e,t)=>{var a;return(0,s.jsxs)("div",{onMouseEnter:()=>n(t),onMouseLeave:()=>n(null),className:"relative group",children:[(0,s.jsxs)("div",{className:"p-2 cursor-pointer text-sm font-semibold hover:text-gray-600",children:[e.name," "]}),r===t&&(0,s.jsx)("div",{className:"absolute top-0 left-full bg-white text-black shadow-lg w-40 z-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:(0,s.jsx)("ul",{className:"p-4 space-y-2",children:null===(a=e.subCategories)||void 0===a?void 0:a.map(e=>(0,s.jsx)(o(),{href:"/products/subcategory/".concat(e.id),children:(0,s.jsx)("li",{className:"text-sm hover:text-gray-600 cursor-pointer",children:e.name},e.id)},e.id))})})]},e.id)})})]})})})};var f=r(279),v=r(4186);function g(e){let{content:t=["Camera","Wardrobe","Iphone","Comics","Laptop above 400"]}=e,r=(0,i.wA)();return(0,s.jsx)("div",{className:"overflow-x-scroll scrollbar-hide flex w-3/4 space-x-2 mt-1 text-xs text-gray-400 cursor-pointer",children:t.map((e,t)=>(0,s.jsx)("span",{onClick:()=>r((0,v.YX)(e)),children:e},t))})}function y(){let e=(0,i.d4)(e=>e.generic.data.search),t=(0,i.wA)(),r=(0,c.useRouter)(),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current.value=e},[e]),(0,s.jsxs)("div",{className:"w-2/4 px-4 py-2 md:px-10 ",children:[(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{ref:n,type:"text",placeholder:"Search for products...",className:"w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 md:text-base"}),(0,s.jsxs)("button",{onClick:()=>{let e=n.current.value;t((0,v.YX)(e)),r.push("/products")},type:"submit",className:"absolute right-0 top-0 h-full px-3 bg-orange-500 text-white rounded-r-lg hover:bg-orange-600 md:px-4",children:[(0,s.jsx)("span",{className:"sr-only",children:"Search"}),(0,s.jsx)(h.KSO,{className:"text-sm md:text-base"})]})]}),(0,s.jsx)(g,{})]})}function b(){var e;let[t,r]=(0,a.useState)(!1),l=(0,i.d4)(e=>e.session.user),c=(0,i.wA)();(0,a.useEffect)(()=>{c((0,f.Fd)("/products/category"))},[c]);let d=(0,i.d4)(e=>e.api);return(0,s.jsxs)("header",{children:[(0,s.jsxs)("nav",{className:"bg-gray-900 px-4 lg:px-6 py-2 ",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mx-auto max-w-screen-xl text-white",children:[(0,s.jsx)(o(),{href:"/",className:"flex",children:(0,s.jsxs)("span",{className:"text-md sm:text-md md:text-3xl font-bold",children:[(0,s.jsx)("span",{className:"text-white",children:"Shop"}),(0,s.jsx)("span",{className:"text-orange-500",children:"Flow"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"block text-xs font-light",children:"Global leading online shop"})]})}),(0,s.jsx)(y,{}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,s.jsx)(m,{}),(0,s.jsx)("div",{children:(0,s.jsxs)(o(),{href:"/cart",className:"relative flex items-center justify-center text-gray-300 hover:text-white",children:[n,l&&(0,s.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold leading-none text-white bg-orange-500 rounded-full transform translate-x-2 -translate-y-2"})]})})]}),(0,s.jsxs)("button",{className:"lg:hidden text-gray-300 hover:text-white",onClick:()=>{r(e=>!e)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),"â˜°"]})]}),t&&(0,s.jsxs)("div",{className:"lg:hidden bg-gray-800 px-4 py-2 space-y-4",children:[(0,s.jsx)(m,{}),(0,s.jsx)("div",{children:(0,s.jsxs)(o(),{href:"/cart",className:"ml-4 relative flex text-white text-sm hover:text-white",children:[n,"  ",(0,s.jsx)("p",{className:"ml-3",children:"Cart"})]})})]})]}),(0,s.jsx)(x,{menuData:null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.data})]})}},5712:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(5155);r(2115);var a=r(3391),n=r(8943),l=r(279),o=r(4186),i=r(1889),c=r(2895);let d=()=>(0,n.U1)({reducer:{api:l.Ay,generic:o.Ay,session:i.Ay,utils:c.Ay}});function u(e){let{children:t}=e,r=d();return(0,s.jsx)(a.Kq,{store:r,children:t})}},279:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,Fd:()=>c});var s=r(8943),a=r(6301);let n=(0,s.Z0)({name:"api",initialState:{data:null,loading:!1,error:null},reducers:{fetchDataStart(e){e.loading=!0,e.error=null},fetchDataSuccess(e,t){e.loading=!1,e.data=t.payload},fetchDataFailure(e,t){e.loading=!1,e.error=t.payload}}}),{fetchDataStart:l,fetchDataSuccess:o,fetchDataFailure:i}=n.actions,c=e=>async t=>{t(l());try{let r=await a.S.get(e);t(o(r.data))}catch(e){var r;t(i((null===(r=e.response)||void 0===r?void 0:r.data)||e.message))}},d=n.reducer},4186:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,YX:()=>l,_9:()=>a,yL:()=>n});let s=(0,r(8943).Z0)({name:"Filter",initialState:{data:{filter:null,search:null,language:null,country:null}},reducers:{updateFilter(e,t){e.data.filter=t.payload},resetFilter(e){e.data={filter:null}},updateSearch(e,t){e.data.search=t.payload},updateCountry(e,t){e.data.country=t.payload},updateLanguage(e,t){e.data.language=t.payload}}}),{updateFilter:a,resetFilter:n,updateSearch:l,updateCountry:o,updateLanguage:i}=s.actions,c=s.reducer},1889:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,Nq:()=>a});let s=(0,r(8943).Z0)({name:"session",initialState:{user:null,token:null},reducers:{setSession:(e,t)=>{console.log(t.payload),e.user=t.payload.user,e.token=t.payload.token},clearSession:e=>{e.user=null,e.token=null}}}),{setSession:a,clearSession:n}=s.actions,l=s.reducer},2895:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,Dh:()=>n,Sd:()=>a});let s=(0,r(8943).Z0)({name:"props",initialState:{product:null,history:null},reducers:{setProductData(e,t){console.log(t),e.product=t.payload,console.log(t.payload)},setHistory(e,t){e.history=t.payload,console.log(e.history)}}}),{setProductData:a,setHistory:n}=s.actions,l=s.reducer},1286:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(5155),a=r(2615);function n(e){let{children:t}=e;return(0,s.jsx)(a.SessionProvider,{children:t})}},6301:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s=r(2651).A.create({baseURL:"http://192.168.0.114:5000"})},347:()=>{},5795:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},9497:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}},9208:(e,t,r)=>{"use strict";function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{A:()=>a});var a=function e(t,r){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=s({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var o in n)n[o]&&(l+="; "+o,!0!==n[o]&&(l+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+l}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},a=0;a<r.length;a++){var n=r[a].split("="),l=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(s[o]=t.read(l,o),e===o)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){a(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},3435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var s=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(a),l=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:n,title:i}=e,d=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==n?s.createElement(n.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[830,711,651,391,943,173,60,441,517,358],()=>t(6038)),_N_E=e.O()}]);