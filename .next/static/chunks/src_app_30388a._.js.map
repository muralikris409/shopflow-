{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/_service/UserService.js"],"sourcesContent":["import { axiosInstance as axios, axiosInstance } from \"../api/axios\";\n\nimport { setCookie } from 'nookies';\n\nexport async function login(formdata, ctx = null) {\n    const { email, password } = formdata;\n\n    try {\n        const response = await axios.post(\"user/login\", {\n            email: email,\n            password: password\n        });\n       console.log(response.data)\n        const { token, data } = response.data;\n        console.log(token,data)\n        setCookie(ctx, \"shopflow_session\", JSON.stringify({ user: data, token }), {\n            maxAge: 30 * 24 * 60 * 60, // 30 days\n            path: '/',\n            secure: process.env.NODE_ENV === 'production', // Use secure cookies in production\n            sameSite: 'lax', // Adjust based on your needs\n        });\n\n        return { data, token };\n    } catch (error) {\n      console.log(error);\n        throw new Error(error.response.data.message || \"An error occurred during login.\");\n    }\n}\n\nexport async function googleOAuth(data, ctx = null) {\n    try {\n        const response = await axios.post(\"user/oauth\", {\n            name: data?.name,\n            email: data?.email,\n            image: data?.image,\n            id: data?.id\n        });\n\n        const { token, data: user } = response.data;\n\n        setCookie(ctx, \"shopflow_session\", JSON.stringify({ user: user, token }), {\n            maxAge: 30 * 24 * 60 * 60,\n            path: '/',\n            secure: process.env.NODE_ENV === 'production',\n            sameSite: 'lax',\n        });\n\n        return response.data;\n    } catch (error) {\n        throw new Error(error?.data?.response?.message || \"An error occurred during Google OAuth.\");\n    }\n}\n\n\n// export async function login(formdata) {\n//     const { email, password } = formdata;\n  \n//     try {\n//         const response = await axios.post(\"user/login\", {\n//             email: email,\n//             password: password\n//         });\n\n//         const { token, data } = response.data;\n\n//         localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: data, token }));\n//         return { data, token };\n//     } catch (error) {\n        \n//             throw new Error(error.response.data.message || \"An error occurred during login.\");\n       \n//     }\n// }\n// export async function googleOAuth(data) {\n//   try {\n//       const response = await axios.post(\"user/oauth\", {\n//           name: data.name,\n//           email: data.email,\n//           image: data.image,\n//           id: data.id\n//       });\n\n//       const { token, data: user } = response.data;\n\n//       localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: user, token }));\n//       return response.data;\n//   } catch (error) {\n     \n//           throw new Error(error.response.data.message || \"An error occurred during Google OAuth.\");\n     \n//   }\n// }\nexport async function signUp(formdata) {\n    const { username: name, email, password } = formdata;\n\n    try {\n        const response = await axios.post(\"user/signup\", {\n            name,\n            email,\n            password\n        }, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n\n        return response.data;\n    } catch (error) {\n       \n            throw new Error(error.response.data.message || \"An error occurred during sign-up.\");\n        \n    }\n}\n\n\n\nexport async function forgotPassword(email) {\n  try {\n    const response = await axiosInstance.post(`user/forgotPassword?email=${email}`);\n    console.log(response)\n    if (response.status === 200) {\n      return {\n        ok: true,\n        data: response.data,\n      };\n    }\n    return {\n      ok: false,\n      message: response.data?.message || \"Something went wrong.\",\n    };\n  } catch (err) {\n    console.log(err)\n    throw err;\n  }\n}\nexport async function resetPassword(token,password){\n    try{\n    const response=await axiosInstance.post(`user/resetPassword?token=${token}&newPassword=${password}`);\n        return response;\n    console.log(response);\n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function getProfileInfo(token,userId){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/userProfileInfo?userId=${userId}`,{},{\n        headers:{\n            Authorization:`Bearer ${token}`\n        }\n    });\n    console.log(response);\n        return response;\n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function updateProfileInfo(token,userId,data){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/updateUserProfile?userId=${userId}`,\n        data\n        \n\n    ,{\n        headers:{\n            Authorization:`Bearer ${token}`,\n            'Content-Type': 'multipart/form-data',\n\n        }\n    });\n    console.log(response);\n        return response;\n    \n   \n}\ncatch(err){\n    console.log(err);\n    throw err;   \n}\n}\n\n\nexport async function fetchUserAddresses (token,userId){\n    \n  try {\nconsole.log(\"token\",token);\n\n    const response = await axiosInstance.post(`user/getAllAddress?userId=${userId}`,{}, {\n      \n      headers:{\n        Authorization:`Bearer ${token}`\n    }\n    });\n    console.log(response)\n    return response.data; \n  } catch (error) {\n    console.error(\"Error fetching addresses:\", error);\n    return { error: error.message || \"Something went wrong!\" };\n  }\n};\nexport const makeAddressPrimary = async (token,userId,addressId) => {\n    try {\n      const response = await axiosInstance.post(`user/makePrimaryAddress`,{}, {\n        params: { userId,addressId },\n        headers:{\n          Authorization:`Bearer ${token}`\n      }\n      });\n      console.log(response)\n      return response.data; \n    } catch (error) {\n      console.error(\"Error fetching addresses:\", error);\n      return { error: error.message || \"Something went wrong!\" };\n    }\n  };\n\nexport const addAddress = async (token, userId, addressData) => {\n  try {\n    const { street, city, state, country, zip, isPrimary } = addressData;\n\n    const response = await axiosInstance.post(\n      'user/addAddress',\n      {},\n      {\n        params: {\n          userId,\n          street,\n          city,\n          state,\n          country,\n          zip,\n          isPrimary,\n        },\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n   \n    return response.data; \n  } catch (error) {\n    console.error(\"Error adding address:\", error);\n    return { error: error.response?.data?.message || \"Something went wrong!\" };\n  }\n};\nexport const updateAddress = async (token, userId, addressId,addressData) => {\n    try {\n      const { street, city, state, country, zip, isPrimary } = addressData;\n  \n      const response = await axiosInstance.post(\n        'user/editAddress',\n        {\n\n        },\n        {\n            \n          params: {\n            userId,\n            addressId,\n            street,\n            city,\n            state,\n            country,\n            zip,\n            isPrimary,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n     \n      return response.data; \n    } catch (error) {\n      console.error(\"Error adding address:\", error);\n      return { error: error.response?.data?.message || \"Something went wrong!\" };\n    }\n  };\n  export const removeAddress = async (token, userId, addressId) => {\n    try {\n  \n      const response = await axiosInstance.post(\n        'user/deleteAddress',\n        {},\n        {\n          params: {\n            userId,\n            addressId\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n     \n      return response.data; \n    } catch (error) {\n      console.error(\"Error adding address:\", error);\n      return { error: error.response?.data?.message || \"Something went wrong!\" };\n    }\n  };"],"names":[],"mappings":"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"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/_service/WishListService.js"],"sourcesContent":["import { axiosInstance as axios } from '../api/axios'; \n\nexport async function loadWishlist(userId, token) {\n  try {\n    const response = await axios.get('/user/wishlist/viewWishlist', {\n      params: { userId },\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \n    'Content-Type': 'application/json',\n      },\n    });\n    return response.data.data.products || [];\n  } catch (error) {\n    console.error('Error loading wishlist:', error);\n    return [];\n  }\n}\n\n\nexport async function addOrRemoveProductFromWishlist(userId, productId, token) {\n  try {\n    const response = await axios.post(\n      '/user/wishlist/addOrRemoveItem',\n      {},\n      {\n        params: { userId, productId: productId },\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n    return response; \n  } catch (error) {\n    console.error('Error adding or removing product to wishlist:', error);\n    throw error;\n  }\n}\n\n\n\n\nexport async function getWishlist(userId, token) {\n  return await loadWishlist(userId, token);\n}\n\nexport async function clearWishlist(userId, token) {\n  try {\n    const wishlist = await loadWishlist(userId, token);\n    for (const product of wishlist) {\n      await removeProductFromWishlist(userId, product.productId, token);\n    }\n  } catch (error) {\n    console.error('Error clearing wishlist:', error);\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,eAAe,aAAa,MAAM,EAAE,KAAK;IAC9C,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAK,CAAC,GAAG,CAAC,+BAA+B;YAC9D,QAAQ;gBAAE;YAAO;YACjB,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAEpC,gBAAgB;YACd;QACF;QACA,OAAO,SAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE;IAC1C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;AACF;AAGO,eAAe,+BAA+B,MAAM,EAAE,SAAS,EAAE,KAAK;IAC3E,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAK,CAAC,IAAI,CAC/B,kCACA,CAAC,GACD;YACE,QAAQ;gBAAE;gBAAQ,WAAW;YAAU;YACvC,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YAClB;QACF;QAEF,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iDAAiD;QAC/D,MAAM;IACR;AACF;AAKO,eAAe,YAAY,MAAM,EAAE,KAAK;IAC7C,OAAO,MAAM,aAAa,QAAQ;AACpC;AAEO,eAAe,cAAc,MAAM,EAAE,KAAK;IAC/C,IAAI;QACF,MAAM,WAAW,MAAM,aAAa,QAAQ;QAC5C,KAAK,MAAM,WAAW,SAAU;YAC9B,MAAM,0BAA0B,QAAQ,QAAQ,SAAS,EAAE;QAC7D;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;AACF"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/wishlist/page.js"],"sourcesContent":["\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { loadWishlist, addOrRemoveProductFromWishlist } from '../../_service/WishListService';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setProductData } from '../../_lib/utilReducer';\nimport { useRouter } from 'next/navigation';\n\nconst Wishlist = () => {\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(null);\n  const userId = useSelector((state) => state.session.user?.id);\n  const token = useSelector((state) => state.session.token);\n\n  useEffect(() => {\n    const fetchWishlist = async () => {\n      try {\n        if (userId) {\n          const wishlistProducts = await loadWishlist(userId, token);\n          setProducts(wishlistProducts);\n        }\n      } catch (err) {\n        setError('Failed to load wishlist. Please try again later.');\n      }\n    };\n\n    fetchWishlist();\n  }, [userId, token]);\n\n  const handleRemoveProduct = async (productId) => {\n    try {\n      if (userId) {\n        setProducts((prevProducts) => prevProducts.filter((product) => product.productId !== productId));\n        await addOrRemoveProductFromWishlist(userId, productId, token);\n      }\n    } catch (err) {\n      setError('Failed to remove product from wishlist. Please try again later.');\n    }\n  };\n\n  return (\n    <section className=\"bg-gray-100 py-12 sm:py-16 lg:py-20\">\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-semibold text-gray-900\">\n            {products.length > 0 ? 'Your Wishlist' : 'Your Wishlist is empty'}\n          </h1>\n        </div>\n\n        {error && (\n          <div className=\"text-center text-red-500 mt-4\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"mt-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n          {products.map((product, index) => (\n            <WishlistTile\n              key={index}\n              product={product.product}\n              onRemoveProduct={handleRemoveProduct}\n            />\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Wishlist;\n\nfunction WishlistTile({ product, onRemoveProduct }) {\n  const router = useRouter();\n  const dispatch = useDispatch();\n\n  const handleNavigation = () => {\n    dispatch(setProductData({ id: product.id }));\n    router.push(`/product/${product.name}`);\n  };\n\n  return (\n    <div className=\"bg-white shadow-lg rounded-lg overflow-hidden transition-transform transform hover:scale-105\">\n      <div className=\"relative\">\n        <img className=\"h-48 w-full object-cover\" src={product.image || \"/_assets/image.png\"} alt={product.name} />\n        <button\n          onClick={() => onRemoveProduct(product.id)}\n          className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition\"\n        >\n          <svg\n            className=\"h-5 w-5\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n\n      <div className=\"p-4\">\n        <h2 className=\"text-lg font-semibold text-gray-900 cursor-pointer\" onClick={handleNavigation}>\n          {product.name}\n        </h2>\n        <p className=\"text-sm text-gray-500\">Brand: {product.brand}</p>\n        <p className=\"text-sm text-gray-500\">{product.description}</p>\n        <div className=\"flex items-center space-x-2 mt-2\">\n          <p className=\"text-sm text-gray-500 line-through\">${product.actualPrice}</p>\n          <p className=\"text-lg text-orange-500 font-semibold\">${product.offerPrice}</p>\n          <p className=\"text-sm text-green-500\">({product.discountPercentage}% off)</p>\n        </div>\n        <p className=\"text-sm text-gray-500\">Rating: {product.rating} / 5</p>\n      </div>\n      </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/_service/OrderService.js"],"sourcesContent":["import {axiosInstance} from '../api/axios';\n\nexport const createOrder = async (userId, items) => {\n  try {\n    const response = await axiosInstance.post('/user/order/createOrder', { userId, items });\n    return response.data;\n  } catch (error) {\n    console.error('Error creating order:', error);\n    throw new Error(error?.response?.data?.message || 'Error creating order.');\n  }\n};\nexport const fetchOrderForCheckout = async (orderId) => {\n  try {\n    const response = await axiosInstance.get(`/user/order/getOrderForCheckout/?orderId=${orderId}`); \n    return response.data; \n  } catch (error) {\n    console.error(\"Error fetching order for checkout:\", error);\n    return {\n      status: \"error\",\n      message: error.response?.data?.message || \"An error occurred while fetching the order.\",\n    };\n  }\n};\nexport const verifyPaymentAndUpdateOrder = async (orderId,razorpayId, paymentId, paymentSignature) => {\n    console.log(\"order_id:\",orderId);\n    console.log(\"razorpayId:\",razorpayId);\n    console.log(\"paymentId:\",paymentId);\n    console.log(\"siign:\",paymentSignature);\n  try {\n    const response = await axiosInstance.post('/user/order/verify', {}\n    ,\n    {\n        params:{\n            orderId,\n            razorpayId,\n            paymentId,\n            paymentSignature,\n        }\n    }\n    \n);\n    return response.data;\n  } catch (error) {\n    console.error('Error verifying payment:', error);\n    throw new Error(error?.response?.data?.message || 'Error verifying payment.');\n  }\n};\n\nexport const checkOutOrder = async (orderId) => {\n    console.log(\"orderid:\",orderId)\n  try { \n    const response = await axiosInstance.post(`/user/order/checkoutOrder?orderId=${orderId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching user orders:', error);\n    throw new Error(error?.response?.data?.message || 'Error fetching user orders.');\n  }\n};\nexport const getOrderByUserId = async (userId) => {\n    console.log(\"userId:\", userId);\n    try {\n      const response = await axiosInstance.get(`/user/order/getUserOrder?userId=${userId}`\n       \n      );\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching user orders:', error);\n      throw new Error(error?.response?.data?.message || 'Error fetching user orders.');\n    }\n  };\nexport const cancelOrder = async (orderId) => {\n    console.log(orderId);\n  try {\n    const response = await axiosInstance.put(`/user/order/cancelOrder?orderId=${orderId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error cancelling order:', error);\n    throw new Error(error?.response?.data?.message || 'Error cancelling order.');\n  }\n};\nexport const getOrderById = async (orderId) => {\n  console.log(\"userId:\", orderId);\n  try {\n    const response = await axiosInstance.get(`/user/order/getOrderById?orderId=${orderId}`\n     \n    );\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching user orders:', error);\n    throw new Error(error?.response?.data?.message || 'Error fetching user orders.');\n  }\n};"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEO,MAAM,cAAc,OAAO,QAAQ;IACxC,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,2BAA2B;YAAE;YAAQ;QAAM;QACrF,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF;AACO,MAAM,wBAAwB,OAAO;IAC1C,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,yCAAyC,EAAE,SAAS;QAC9F,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sCAAsC;QACpD,OAAO;YACL,QAAQ;YACR,SAAS,MAAM,QAAQ,EAAE,MAAM,WAAW;QAC5C;IACF;AACF;AACO,MAAM,8BAA8B,OAAO,SAAQ,YAAY,WAAW;IAC7E,QAAQ,GAAG,CAAC,aAAY;IACxB,QAAQ,GAAG,CAAC,eAAc;IAC1B,QAAQ,GAAG,CAAC,cAAa;IACzB,QAAQ,GAAG,CAAC,UAAS;IACvB,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAEjE;YACI,QAAO;gBACH;gBACA;gBACA;gBACA;YACJ;QACJ;QAGA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF;AAEO,MAAM,gBAAgB,OAAO;IAChC,QAAQ,GAAG,CAAC,YAAW;IACzB,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,CAAC,kCAAkC,EAAE,SAAS;QACxF,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF;AACO,MAAM,mBAAmB,OAAO;IACnC,QAAQ,GAAG,CAAC,WAAW;IACvB,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,gCAAgC,EAAE,QAAQ;QAGpF,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF;AACK,MAAM,cAAc,OAAO;IAC9B,QAAQ,GAAG,CAAC;IACd,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,gCAAgC,EAAE,SAAS;QACrF,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF;AACO,MAAM,eAAe,OAAO;IACjC,QAAQ,GAAG,CAAC,WAAW;IACvB,IAAI;QACF,MAAM,WAAW,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,iCAAiC,EAAE,SAAS;QAGtF,QAAQ,GAAG,CAAC,SAAS,IAAI;QACzB,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,IAAI,MAAM,OAAO,UAAU,MAAM,WAAW;IACpD;AACF"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/orders/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { getOrderByUserId, cancelOrder } from \"../../_service/OrderService\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { setProductData } from \"../../_lib/utilReducer\";\nimport { useRouter } from \"next/navigation\";\n\nconst ProductTile = ({ product, onCancel, cancelLoading }) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n\n  const handleNavigation = () => {\n    dispatch(setProductData({ id: product.productId }));\n    router.push(`/product/${product.productName}`);\n  };\n\n  const handleCancel = () => {\n    onCancel(product.orderId);\n  };\n\n  return (\n    <div className=\"product-card p-5 bg-white rounded-lg shadow-lg mb-4\">\n      {/* Product Header */}\n      <div className=\"flex justify-between items-center mb-3\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-800\">\n            Order ID: <span className=\"text-gray-500\">#{product.orderId}</span>\n          </h3>\n          <p className=\"text-sm text-gray-500\">\n            Placed on: {new Date(product.orderDate).toLocaleDateString()}\n          </p>\n        </div>\n        <p\n          className={`font-semibold ${\n            product.status === \"CONFIRMED\"\n              ? \"text-green-600\"\n              : product.status === \"CANCELLED\"\n              ? \"text-red-600\"\n              : \"text-gray-600\"\n          }`}\n        >\n          {product.status}\n        </p>\n      </div>\n\n      {/* Product Details */}\n      <div onClick={handleNavigation} className=\"flex items-start space-x-4 mb-4\">\n        <img\n          src={product.image || \"/_assets/image.png\"}\n          alt={product.productName}\n          className=\"w-16 h-16 object-cover rounded-md border\"\n        />\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-semibold\">{product.productName}</p>\n          <p className=\"text-sm text-gray-500\">\n            $ {product.offerPrice.toLocaleString()} x {product.quantity}\n          </p>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"flex justify-between items-center\">\n        <p className=\"font-semibold text-lg\">\n          Total: $ {(product.offerPrice * product.quantity).toLocaleString()}\n        </p>\n        {product.status !== \"CANCELLED\" && (\n          <button\n            className={`px-4 py-2 text-white text-sm rounded ${\n              cancelLoading === product.orderId\n                ? \"bg-gray-400 cursor-not-allowed\"\n                : \"bg-red-500 hover:bg-red-600\"\n            }`}\n            onClick={handleCancel}\n            disabled={cancelLoading === product.orderId}\n          >\n            {cancelLoading === product.orderId ? \"Cancelling...\" : \"Cancel Order\"}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst OrderPage = () => {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cancelLoading, setCancelLoading] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const userId = useSelector((state) => state.session.user?.id);\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      if (!userId) return;\n      try {\n        setLoading(true);\n        const response = await getOrderByUserId(userId);\n        const data = response?.data;\n\n        const flattenedProducts = data?.flatMap((order) =>\n          order.items.map((item) => ({\n            ...item,\n            orderDate: order.orderDate,\n            totalAmount: order.total,\n          }))\n        );\n\n        setProducts(flattenedProducts || []);\n        setFilteredProducts(flattenedProducts || []);\n      } catch (err) {\n        setError(err?.message || \"An error occurred\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrders();\n  }, [userId]);\n\n  const handleCancelOrder = async (orderId) => {\n    try {\n      setCancelLoading(orderId);\n      await cancelOrder(orderId);\n      const updatedProducts = products.map((product) =>\n        product.orderId === orderId\n          ? { ...product, status: \"CANCELLED\" }\n          : product\n      );\n      setProducts(updatedProducts);\n      setFilteredProducts(\n        updatedProducts.filter((product) =>\n          product.productName.toLowerCase().includes(searchQuery)\n        )\n      );\n    } catch (err) {\n      setError(err?.message || \"Failed to cancel order\");\n    } finally {\n      setCancelLoading(null);\n    }\n  };\n\n  const handleSearch = (e) => {\n    const query = e.target.value.toLowerCase();\n    setSearchQuery(query);\n    const filtered = products.filter((product) =>\n      product.productName.toLowerCase().includes(query)\n    );\n    setFilteredProducts(filtered);\n  };\n\n  if (loading) {\n    return <div className=\"text-center text-lg\">Loading...</div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-red-500 text-center text-lg\">Error: {error}</div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h1 className=\"text-3xl font-bold text-center mb-8\">My Orders</h1>\n\n      {/* Search Bar */}\n      <div className=\"mb-6 flex justify-center\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for products in your orders\"\n          value={searchQuery}\n          onChange={handleSearch}\n          className=\"w-96 p-3 rounded-md border border-gray-300\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {filteredProducts.length === 0 ? (\n          <div className=\"col-span-full text-center text-xl font-semibold text-gray-500\">\n            No orders found.\n          </div>\n        ) : (\n          filteredProducts.map((product, index) => (\n            <ProductTile\n              key={`${product.orderId}-${index}`}\n              product={product}\n              onCancel={handleCancelOrder}\n              cancelLoading={cancelLoading}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OrderPage;\n  "],"names":[],"mappings":"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"}},
    {"offset": {"line": 1081, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1087, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/_service/GuestCartService.js"],"sourcesContent":["\"use client\"\n\nconst cartKey = 'shopflow';\n\nexport function loadCart() {\n  const storedCart = localStorage.getItem(cartKey);\n  return storedCart ? JSON.parse(storedCart) : [];\n}\n\nexport function saveCart(cart) {\n  localStorage.setItem(cartKey, JSON.stringify(cart));\n}\n\nexport function findProductIndex(cart, productId) {\n  return cart.findIndex(item => item.id === productId);\n}\n\nexport function addProduct(product) {\n  const cart = loadCart();\n  const productIndex = findProductIndex(cart, product.id);\n  \n  if (productIndex === -1) {\n    cart.push({ ...product, quantity: 1 });\n  } else {\n    cart[productIndex].quantity += 1;\n  }\n  \n  saveCart(cart);\n}\n\n    export function removeProduct(productId) {\n    let cart = loadCart();\n\n    cart = cart.filter(item => item.id !== productId);\n\n    saveCart(cart);\n    }\n\nexport function increaseQuantity(productId) {\n  const cart = loadCart();\n  const productIndex = findProductIndex(cart, productId);\n  \n  if (productIndex !== -1) {\n    cart[productIndex].quantity += 1;\n    saveCart(cart);\n  }\n}\n\nexport function decreaseQuantity(productId) {\n  const cart = loadCart();\n  const productIndex = findProductIndex(cart, productId);\n  \n  if (productIndex !== -1) {\n    if (cart[productIndex].quantity > 1) {\n      cart[productIndex].quantity -= 1;\n    } else {\n      removeProduct(productId);\n    }\n    saveCart(cart);\n  }\n}\n\nexport function getCart() {\n  return loadCart();\n}\n\nexport function clearCart() {\n  localStorage.removeItem(cartKey);\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA,MAAM,UAAU;AAET,SAAS;IACd,MAAM,aAAa,aAAa,OAAO,CAAC;IACxC,OAAO,aAAa,KAAK,KAAK,CAAC,cAAc,EAAE;AACjD;AAEO,SAAS,SAAS,IAAI;IAC3B,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;AAC/C;AAEO,SAAS,iBAAiB,IAAI,EAAE,SAAS;IAC9C,OAAO,KAAK,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;AAC5C;AAEO,SAAS,WAAW,OAAO;IAChC,MAAM,OAAO;IACb,MAAM,eAAe,iBAAiB,MAAM,QAAQ,EAAE;IAEtD,IAAI,iBAAiB,CAAC,GAAG;QACvB,KAAK,IAAI,CAAC;YAAE,GAAG,OAAO;YAAE,UAAU;QAAE;IACtC,OAAO;QACL,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI;IACjC;IAEA,SAAS;AACX;AAEW,SAAS,cAAc,SAAS;IACvC,IAAI,OAAO;IAEX,OAAO,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAEvC,SAAS;AACT;AAEG,SAAS,iBAAiB,SAAS;IACxC,MAAM,OAAO;IACb,MAAM,eAAe,iBAAiB,MAAM;IAE5C,IAAI,iBAAiB,CAAC,GAAG;QACvB,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI;QAC/B,SAAS;IACX;AACF;AAEO,SAAS,iBAAiB,SAAS;IACxC,MAAM,OAAO;IACb,MAAM,eAAe,iBAAiB,MAAM;IAE5C,IAAI,iBAAiB,CAAC,GAAG;QACvB,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,GAAG;YACnC,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI;QACjC,OAAO;YACL,cAAc;QAChB;QACA,SAAS;IACX;AACF;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,aAAa,UAAU,CAAC;AAC1B"}},
    {"offset": {"line": 1157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1163, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/_service/UserCartService.js"],"sourcesContent":["\"use client\";\n\nimport { useSelector } from \"react-redux\";\nimport { axiosInstance } from \"../api/axios\";\n\nfunction UserCartService() {\n  const token = useSelector((state) => state.session.token);\n\n  const cartKey = 'shopflow';\n\n  const getHeaders = () => ({\n    Authorization: `Bearer ${token}`,\n    'Content-Type': 'application/json',\n  });\n\n  this.loadCart = function() {\n    const storedCart = localStorage.getItem(cartKey);\n    return storedCart ? JSON.parse(storedCart) : [];\n  };\n\n  this.saveCart = function(cart) {\n    localStorage.setItem(cartKey, JSON.stringify(cart));\n  };\n\n  this.migrateCart = async function(userId) {\n    const guestCart = this.loadCart();\n    console.log(guestCart,userId);\n    if (guestCart.length > 0) {\n      for (const item of guestCart) {\n        try {\n          console.log(item);\n          const res=await this.addItemToCart(userId, item.id, item.quantity);\n          console.log(\"migrated\",res)\n          \n        } catch (error) {\n          console.error('Error migrating cart item:', error);\n        }\n      }\n      this.clearCart();\n      \n    }\n  };\n\n  this.addItemToCart = async function(userId, productId, quantity = 1) {\n    console.log(userId);\n    console.log(productId);\n    try {\n      const response = await axiosInstance.post(\n        // `/user/cart/addItemToCart?userId=${userId}&productId==${userId}4&quantity=${quantity}`, \n        `/user/cart/addItemToCart`,\n       {},\n        {\n          params:{\n            \n              userId,\n              productId,\n              quantity\n             \n          },\n          headers: getHeaders()\n        }\n      );\n      \n\n        return response.data;\n    \n    \n    } catch (error) {\n      console.log(error)\n      console.error('Error adding item to cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.viewCart = async function(userId) {\n    try {\n      const response = await axiosInstance.get('/user/cart/viewCart', {\n        params: { userId },\n        headers: getHeaders(),\n      });\n\n      if (response.status === 200) {\n        return response.data.data || [];\n      } else {\n        throw new Error(response.data.message || 'Failed to retrieve cart');\n      }\n    } catch (error) {\n      console.error('Error viewing cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.deleteFromCart = async function(userId, productId) {\n    try {\n      const response = await axiosInstance.delete('/user/cart/deleteFromCart', {\n        params: { userId, productId },\n        headers: getHeaders(),\n      });\n\n      if (response.status === 200) {\n        return response.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to delete item from cart');\n      }\n    } catch (error) {\n      console.error('Error deleting item from cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.updateCartCount = async function(userId, productId, operation) {\n    try {\n      const response = await axiosInstance.put('/user/cart/cartCount', {}, {\n        params: { userId, productId, operation },\n        headers: getHeaders(),\n      });\n      console.log(response.status)\n      if (response.status === 200) {\n        return response.data;\n      } else {\n        throw new Error(response.data || 'Failed to update cart count');\n      }\n    } catch (error) {\n      console.error('Error updating cart count:', error);\n      throw error;\n    }\n  };\n\n  this.clearCart = function() {\n    localStorage.removeItem(cartKey);\n  };\n}\n\nexport default UserCartService;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1305, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/cart/Cart.js"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  decreaseQuantity as guestDecreaseQuantity,\n  getCart as guestGetCart,\n  increaseQuantity as guestIncreaseQuantity,\n  removeProduct as guestRemoveProduct,\n} from '../../_service/GuestCartService';\nimport UserCartService from '../../_service/UserCartService';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/navigation';\nimport { createOrder } from '../../_service/OrderService';\nimport { setProductData } from '../../_lib/utilReducer';\nimport { setHistory } from '../../_lib/utilReducer';\nconst Cart = () => {\n  const [products, setProducts] = useState([]);\n  const [totalBill, setTotalBill] = useState(0);\n  const [error, setError] = useState(null);\n  const [loadingCheckout, setLoadingCheckout] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  const userCartService = new UserCartService();\n  const isLoggedIn = useSelector((state) => state.session.user);\n  const router = useRouter();\n\n  useEffect(() => {\n    const loadCart = async () => {\n      setLoading(true);\n      try {\n        if (isLoggedIn) {\n          const userCart = await userCartService.viewCart(isLoggedIn.id);\n          setProducts(userCart.items);\n          setTotalBill(userCart.totalAmount);\n        } else {\n          const guestCart = typeof window !== 'undefined' ? guestGetCart() : [];\n          setProducts(guestCart);\n        }\n      } catch (err) {\n        setError('Failed to load cart. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadCart();\n  }, [isLoggedIn]);\n\n  const handleIncreaseQuantity = async (productId, setTileLoading) => {\n    try {\n      setTileLoading(true);\n      if (isLoggedIn) {\n        await userCartService.updateCartCount(isLoggedIn.id, productId, 'increase');\n        const userCart = await userCartService.viewCart(isLoggedIn.id);\n        setProducts(userCart.items);\n        setTotalBill(userCart.totalAmount);\n      } else {\n        guestIncreaseQuantity(productId);\n        setProducts(guestGetCart());\n      }\n    } catch (err) {\n      setError('Failed to update item quantity. Please try again later.');\n    } finally {\n      setTileLoading(false);\n    }\n  };\n\n  const handleDecreaseQuantity = async (productId, setTileLoading) => {\n    try {\n      setTileLoading(true);\n      if (isLoggedIn) {\n        await userCartService.updateCartCount(isLoggedIn.id, productId, 'decrease');\n        const userCart = await userCartService.viewCart(isLoggedIn.id);\n        setProducts(userCart.items);\n        setTotalBill(userCart.totalAmount);\n      } else {\n        guestDecreaseQuantity(productId);\n        setProducts(guestGetCart());\n      }\n    } catch (err) {\n      setError('Failed to update item quantity. Please try again later.');\n    } finally {\n      setTileLoading(false);\n    }\n  };\n\n  const handleRemoveProduct = async (productId, setTileLoading) => {\n    try {\n      setTileLoading(true);\n      if (isLoggedIn) {\n        await userCartService.deleteFromCart(isLoggedIn.id, productId);\n        const userCart = await userCartService.viewCart(isLoggedIn.id);\n        setProducts(userCart.items);\n        setTotalBill(userCart.totalAmount);\n      } else {\n        guestRemoveProduct(productId);\n        setProducts(guestGetCart());\n      }\n    } catch (err) {\n      setError('Failed to remove product from cart. Please try again later.');\n    } finally {\n      setTileLoading(false);\n    }\n  };\n\n  const handleCheckout = async () => {\n    setLoadingCheckout(true);\n    try {\n      const items = products?.map((product) => ({\n        productId: product.productId,\n        quantity: product.quantity,\n      }));\n      const {order } = await createOrder(isLoggedIn.id, items);\n   \n      router.push(`/checkout/${order.id}`);\n    } catch (err) {\n      console.error(err);\n      setError('Failed to proceed with checkout. Please try again later.');\n    } finally {\n      setLoadingCheckout(false);\n    }\n  };\n   \n    const handleNavigation=(productId,productName)=>{\n      \n    dispatch(setProductData({id:productId}));\n    router.push(`/product/${productName}`);\n  \n    }\n      const calculateBill = () => {\n        const total = products.reduce((acc, product) => acc + product?.offerPrice*product?.quantity, 0);\n        console.log(\"bill\", total);\n        return total;\n      };\n      \n    \n    console.log(products)\n  return (\n    <div className=\"bg-gray-100 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto py-8 px-4 lg:px-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-6\">Shopping Cart</h1>\n        {loading ? (\n          <p className=\"text-center text-gray-500\">Loading...</p>\n        ) : products.length === 0 ? (\n          <p className=\"text-center text-gray-600\">Your cart is empty</p>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2 bg-white rounded shadow-md p-4\">\n              <ul className=\"divide-y divide-gray-200\">\n                {products.map((product, index) => (\n                  <CartTile\n                    key={index}\n                    handleNavigation={handleNavigation}\n                    product={isLoggedIn ? product.product : product}\n                    onIncreaseQuantity={handleIncreaseQuantity}\n                    onDecreaseQuantity={handleDecreaseQuantity}\n                    onRemoveProduct={handleRemoveProduct}\n                    quantity={product?.quantity}\n                  />\n                ))}\n              </ul>\n            </div>\n            <div className=\"bg-white rounded shadow-md p-4 sticky top-16\">\n              <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Price Details</h2>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between\">\n                  <p>Price</p>\n                  <p>${isLoggedIn ? totalBill?.toFixed(2) : calculateBill()}</p>\n                  </div>\n                <div className=\"flex justify-between text-green-600\">\n                  <p>Discount</p>\n                  <p>- $0.00</p>\n                </div>\n                <div className=\"flex justify-between font-semibold\">\n                  <p>Total Amount</p>\n                  <p>${isLoggedIn ? totalBill?.toFixed(2) : calculateBill()}</p>\n                </div>\n              </div>\n              <button\n                onClick={isLoggedIn?handleCheckout:()=>{\n                  \n                  dispatch(setHistory({route:`/cart`}));\n                  router.push(\"/auth\");\n                \n                }}\n                className={`w-full mt-4 py-2 rounded text-white ${\n                  loadingCheckout ? 'bg-gray-500' : 'bg-gray-800 hover:bg-gray-900'\n                }`}\n                disabled={products.length === 0 || loadingCheckout}\n              >\n                {loadingCheckout ? 'Processing...' : 'Checkout'}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n\nfunction CartTile({ handleNavigation,product, onIncreaseQuantity, onDecreaseQuantity, onRemoveProduct, quantity }) {\n  const [tileLoading, setTileLoading] = useState(false);\n\n  return (\n    <li  className={`flex py-4 m-2 ${tileLoading ? 'border-2 border-double border-x-orange-500 animate-pulse ' : ''}`}>\n      <img className=\"w-16 h-16 rounded object-cover\" src={product?.image} alt={product?.name} />\n      <div className=\"ml-4 flex-1\">\n        <h3 onClick={()=>handleNavigation(product?.id,product?.name)} className=\"text-gray-800 font-semibold\">{product?.name}</h3>\n        <p className=\"text-gray-600 text-sm\">\n          ${product?.offerPrice?.toFixed(2)}{' '}\n          <span className=\"line-through text-gray-400\">${product?.actualPrice?.toFixed(2)}</span>\n        </p>\n        <p className=\"text-gray-600 text-sm mt-1\">{product?.description}</p>\n        <div className=\"flex items-center mt-2\">\n          <button\n            className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded-l hover:bg-gray-300\"\n            onClick={() => onDecreaseQuantity(product?.id, setTileLoading)}\n            disabled={tileLoading}\n          >\n            -\n          </button>\n          <span className=\"px-4 py-1 bg-gray-100\">{quantity}</span>\n          <button\n            className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded-r hover:bg-gray-300\"\n            onClick={() => onIncreaseQuantity(product?.id, setTileLoading)}\n            disabled={tileLoading}\n          >\n            +\n          </button>\n        </div>\n      </div>\n      <button\n        className=\"ml-auto text-red-500 hover:text-red-600\"\n        onClick={() => onRemoveProduct(product?.id, setTileLoading)}\n        disabled={tileLoading}\n      >\n        Remove\n      </button>\n    </li>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1773, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1779, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/user/profile/manage/page.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { updateProfileInfo } from \"@/app/_service/UserService\";\nimport { useSelector } from \"react-redux\";\nimport { fetchData } from \"@/app/_lib/userReducer\";\nimport { useDispatch } from \"react-redux\";\n\nconst EditProfile = () => {\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state?.userData);\n  const user = userData?.user;\n  const token = userData?.token;\n  const userId = user?.id;\n\n  const [fieldData, setFormData] = useState({\n    name: user?.name || '',\n    phone: user?.phone || '',\n  });\n\n  const [imagePreview, setImagePreview] = useState(user?.profile_pic || null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (user) {\n      setImagePreview(user.profile_pic || null);\n      setFormData({\n        name: user.name || '',\n        phone: user.phone || '',\n      });\n    }\n  }, [userData]);\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => setImagePreview(reader.result);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    const formData = new FormData();\n    formData.append(\"name\", fieldData.name);\n    formData.append(\"phone\", fieldData.phone);\n    \n    const profileImage = e.target.profileImage.files[0];\n    if (profileImage) {\n      formData.append(\"profile\", profileImage);\n    }\n\n    try {\n      const response = await updateProfileInfo(token, userId, formData);\n      if (response.status === 200) {\n        alert(\"Profile updated successfully!\");\n        dispatch(fetchData(`/user/userProfileInfo?userId=${userId}`, token));\n      }\n    } catch (error) {\n      setError(error.response?.data?.message || \"An error occurred.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md m-10\">\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">Edit Profile</h2>\n\n      {error && <div className=\"text-center text-red-500 mb-4\">{error}</div>}\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <div className=\"flex items-center mb-6\">\n          <div className=\"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center\">\n            {imagePreview ? (\n              <img src={imagePreview} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n            ) : (\n              <span className=\"text-3xl font-bold text-gray-500\">{user?.name?.charAt(0)}</span>\n            )}\n          </div>\n          <input\n            type=\"file\"\n            name=\"profileImage\"\n            accept=\"image/*\"\n            onChange={handleImageChange}\n            className=\"ml-4 text-sm text-gray-600\"\n          />\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n          <div className=\"mb-4\">\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\n              Name\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              onChange={handleChange}\n              value={fieldData.name}\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded-md\"\n              required\n            />\n          </div>\n\n          <div className=\"mb-4\">\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-amber-700\">\n              Email can't be changed\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={user?.email}\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded-md\"\n              disabled\n            />\n          </div>\n\n          <div className=\"mb-4\">\n            <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\n              Phone\n            </label>\n            <input\n              type=\"text\"\n              id=\"phone\"\n              name=\"phone\"\n              onChange={handleChange}\n              value={fieldData.phone}\n              className=\"mt-1 p-2 w-full border border-gray-300 rounded-md\"\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"text-center\">\n          <button\n            type=\"submit\"\n            className=\"bg-blue-500 text-white px-6 py-2 rounded-md\"\n            disabled={loading}\n          >\n            {loading ? \"Saving...\" : \"Save Changes\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProfile;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2072, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2078, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/user/profile/address/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n  fetchUserAddresses,\n  makeAddressPrimary,\n  addAddress,\n  updateAddress,\n  removeAddress,\n} from \"../../../../_service/UserService\"; // Adjust the path as needed\nimport { useSelector } from \"react-redux\";\n\nconst AddressManagement = () => {\n  const [addresses, setAddresses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newAddress, setNewAddress] = useState({\n    street: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    zip: \"\",\n    isPrimary: false,\n  });\n  const [errors, setErrors] = useState({});\n  const [showForm, setShowForm] = useState(false);\n  const [editAddressId, setEditAddressId] = useState(null);\n\n  const userId = useSelector((state) => state?.session?.user?.id);\n  const token = useSelector((state) => state?.session?.token);\n\n  const loadAddresses = async () => {\n    setLoading(true);\n    const result = await fetchUserAddresses(token, userId);\n\n    if (result.status === \"success\") {\n      setAddresses(result.data);\n    } else {\n      console.error(result?.message || \"Error retrieving addresses\");\n    }\n    setLoading(false);\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!newAddress.street.trim()) newErrors.street = \"Street is required.\";\n    if (!newAddress.city.trim()) newErrors.city = \"City is required.\";\n    if (!newAddress.state.trim()) newErrors.state = \"State is required.\";\n    if (!newAddress.country.trim()) newErrors.country = \"Country is required.\";\n    if (!newAddress.zip.trim() || !/^[0-9]{5,6}$/.test(newAddress.zip)) {\n      newErrors.zip = \"ZIP Code must be 5-6 digits.\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleAddAddress = async () => {\n    if (!validateForm()) return;\n\n    try {\n      const result = await addAddress(token, userId, newAddress);\n      if (result?.status === \"success\") {\n        loadAddresses();\n        setShowForm(false);\n        resetForm();\n      } else {\n        console.error(result?.error || \"Error adding address\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleMakePrimary = async (addressId) => {\n    try {\n      const result = await makeAddressPrimary(token, userId, addressId);\n      if (result?.status === \"success\") {\n        loadAddresses();\n      } else {\n        console.error(result?.error || \"Error setting address as primary\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDeleteAddress = async (addressId) => {\n    try {\n      const result = await removeAddress(token, userId, addressId);\n      if (result?.status === \"success\") {\n        loadAddresses();\n      } else {\n        console.error(result?.error || \"Error deleting address\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleSaveEditedAddress = async () => {\n    if (!validateForm()) return;\n\n    try {\n      const result = await updateAddress(token, userId, editAddressId, newAddress);\n      if (result?.status === \"success\") {\n        loadAddresses();\n        setShowForm(false);\n        setEditAddressId(null);\n        resetForm();\n      } else {\n        console.error(result?.error || \"Error updating address\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const resetForm = () => {\n    setNewAddress({\n      street: \"\",\n      city: \"\",\n      state: \"\",\n      country: \"\",\n      zip: \"\",\n      isPrimary: false,\n    });\n    setErrors({});\n  };\n\n  const handleSubmitAddress = () => {\n    if (editAddressId) {\n      handleSaveEditedAddress();\n    } else {\n      handleAddAddress();\n    }\n  };\n\n  useEffect(() => {\n    loadAddresses();\n  }, []);\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h1 className=\"text-3xl font-bold mb-6 text-indigo-600\">Manage Addresses</h1>\n      {loading ? (\n        <p>Loading addresses...</p>\n      ) : (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {addresses?.map((address) => (\n            <div\n              key={address.id}\n              className={`p-4 border rounded-md shadow ${\n                address.isPrimary ? \"border-indigo-500 bg-indigo-50\" : \"bg-white\"\n              }`}\n            >\n              <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">{address.street}</h2>\n              <p className=\"text-gray-500\">\n                {address.city}, {address.state}\n              </p>\n              <p className=\"text-gray-500\">\n                {address.country} - {address.zip}\n              </p>\n              <p\n                className={`mt-2 text-sm font-medium ${\n                  address.isPrimary ? \"text-green-600\" : \"text-gray-400\"\n                }`}\n              >\n                {address.isPrimary ? \"Primary Address\" : \"\"}\n              </p>\n              <div className=\"flex items-center mt-4 space-x-4\">\n                {!address.isPrimary && (\n                  <button\n                    onClick={() => handleMakePrimary(address.id)}\n                    className=\"px-3 py-1 bg-indigo-500 text-white text-sm rounded hover:bg-indigo-600\"\n                  >\n                    Set as Default\n                  </button>\n                )}\n                <button\n                  onClick={() => {\n                    setNewAddress({ ...address });\n                    setEditAddressId(address.id);\n                    setShowForm(true);\n                  }}\n                  className=\"px-3 py-1 bg-gray-200 text-sm rounded hover:bg-gray-300\"\n                >\n                  Edit\n                </button>\n                <button\n                  onClick={() => handleDeleteAddress(address.id)}\n                  className=\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n          <button\n            onClick={() => {\n              resetForm();\n              setShowForm(true);\n            }}\n            className=\"p-4 border-dashed border-2 border-indigo-500 text-indigo-500 rounded-md flex justify-center items-center hover:bg-indigo-50\"\n          >\n            + Add New Address\n          </button>\n        </div>\n      )}\n\n      {showForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-96\">\n            <h2 className=\"text-2xl font-bold mb-4 text-indigo-600\">\n              {editAddressId ? \"Edit Address\" : \"Add New Address\"}\n            </h2>\n            <form className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Street\"\n                value={newAddress.street}\n                onChange={(e) => setNewAddress({ ...newAddress, street: e.target.value })}\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${\n                  errors.street ? \"border-red-500\" : \"focus:ring-indigo-400\"\n                }`}\n              />\n              {errors.street && <p className=\"text-red-500 text-sm\">{errors.street}</p>}\n              <input\n                type=\"text\"\n                placeholder=\"City\"\n                value={newAddress.city}\n                onChange={(e) => setNewAddress({ ...newAddress, city: e.target.value })}\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${\n                  errors.city ? \"border-red-500\" : \"focus:ring-indigo-400\"\n                }`}\n              />\n              {errors.city && <p className=\"text-red-500 text-sm\">{errors.city}</p>}\n              <input\n                type=\"text\"\n                placeholder=\"State\"\n                value={newAddress.state}\n                onChange={(e) => setNewAddress({ ...newAddress, state: e.target.value })}\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${\n                  errors.state ? \"border-red-500\" : \"focus:ring-indigo-400\"\n                }`}\n              />\n              {errors.state && <p className=\"text-red-500 text-sm\">{errors.state}</p>}\n              <input\n                type=\"text\"\n                placeholder=\"Country\"\n                value={newAddress.country}\n                onChange={(e) => setNewAddress({ ...newAddress, country: e.target.value })}\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${\n                  errors.country ? \"border-red-500\" : \"focus:ring-indigo-400\"\n                }`}\n              />\n              {errors.country && <p className=\"text-red-500 text-sm\">{errors.country}</p>}\n              <input\n                type=\"text\"\n                placeholder=\"ZIP Code\"\n                value={newAddress.zip}\n                onChange={(e) => setNewAddress({ ...newAddress, zip: e.target.value })}\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${\n                  errors.zip ? \"border-red-500\" : \"focus:ring-indigo-400\"\n                }`}\n              />\n              {errors.zip && <p className=\"text-red-500 text-sm\">{errors.zip}</p>}\n              <label className=\"inline-flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={newAddress.isPrimary}\n                  onChange={(e) => setNewAddress({ ...newAddress, isPrimary: e.target.checked })}\n                  className=\"form-checkbox h-5 w-5 text-indigo-600\"\n                />\n                <span className=\"ml-2 text-gray-600\">Set as Primary</span>\n              </label>\n              <div className=\"flex justify-end mt-4 space-x-2\">\n                <button\n                  type=\"button\"\n                  onClick={handleSubmitAddress}\n                  className=\"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600\"\n                >\n                  {editAddressId ? \"Update Address\" : \"Save\"}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowForm(false);\n                    resetForm();\n                  }}\n                  className=\"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddressManagement;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2566, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2572, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow-current/shopflow-cpy/shopflowcpy/src/app/%28application%29/user/profile2/page.js"],"sourcesContent":["\"use client\";\nimport { getProfileInfo } from \"@/app/_service/UserService\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { User, ShoppingCart, Heart, ClipboardList, MapPin } from \"lucide-react\"; // Import icons from lucide-react\nimport Wishlist from \"../../wishlist/page\";\nimport OrderPage from \"../../orders/page\";\nimport Cart from \"../../cart/Cart\";\nimport EditProfile from \"../profile/manage/page\";\nimport AddressManagement from \"../profile/address/page\";\n\nconst UserProfile = () => {\n  const { user, error, token } = useSelector((state) => state.userData);\n  const userId = user?.id;\n  const [activeSection, setActiveSection] = useState(\"profile\"); // State to track active section\n  \n  useEffect(() => {\n   \n  }, [user, token]);\n\n \n\n  if (error) {\n    return <div className=\"text-center text-red-500\">{error}</div>;\n  }\n\n  return (\n    <div className=\"flex\">\n      {/* Sidebar Navigation */}\n      <nav className=\"w-64 bg-gray-800 text-white h-screen p-4\">\n        <div className=\"flex items-center mb-6\">\n          <div className=\"w-12 h-12 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center\">\n            {user?.profile_pic ? (\n              <img src={user?.profile_pic} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n            ) : (\n              <span className=\"text-2xl font-bold text-gray-300\">{user?.name?.charAt(0)}</span>\n            )}\n          </div>\n          <h2 className=\"ml-2 text-lg font-semibold\">{user?.name}</h2>\n        </div>\n        <ul className=\"space-y-2\">\n          <li>\n            <button onClick={() => setActiveSection(\"profile\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <User  className=\"w-5 h-5 mr-2\" /> Profile\n            </button>\n          </li>\n          <li>\n            <button onClick={() => setActiveSection(\"wishlist\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <Heart className=\"w-5 h-5 mr-2\" /> Wishlist\n            </button>\n          </li>\n          <li>\n            <button onClick={() => setActiveSection(\"orders\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <ClipboardList className=\"w-5 h-5 mr-2\" /> Orders\n            </button>\n          </li>\n          <li>\n            <button onClick={() => setActiveSection(\"editProfile\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <User  className=\"w-5 h-5 mr-2\" /> Edit Profile\n            </button>\n          </li>\n          <li>\n            <button onClick={() => setActiveSection(\"editAddress\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <MapPin className=\"w-5 h-5 mr-2\" /> Edit Address\n            </button>\n          </li>\n          <li>\n            <button onClick={() => setActiveSection(\"cart\")} className=\"flex items-center p-2 rounded hover:bg-gray-700\">\n              <ShoppingCart className=\"w-5 h-5 mr-2\" /> Cart\n            </button>\n          </li>\n        </ul>\n      </nav>\n\n      {/* Main Content */}\n      <div className=\"flex-1 p-6 bg-gray-100\">\n        <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md\">\n          {activeSection === \"profile\" && (\n            <div>\n              <h2 className=\"text-2xl font-semibold text-gray-800\">{user?.name}</h2>\n              <p className=\"text-gray-600\">{user?.email}</p>\n              <p className=\"text-gray-600\">{user?.phone}</p>\n            </div>\n          )}\n          {activeSection === \"profile\" && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Edit Profile</h3>\n              <p className=\"text-gray-600\">Update your information</p>\n<EditProfile/>\n            </div>\n          )}\n          {activeSection === \"editAddress\" && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Edit Address</h3>\n              <p className=\"text-gray-600\">Update your addresses</p>\n<AddressManagement/>\n            </div>\n          )}\n          {activeSection === \"wishlist\" && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Your Wishlist</h3>\n              <p className=\"text-gray-600\">Items you have saved for later.</p>\n<Wishlist/>            </div>\n          )}\n          {activeSection === \"orders\" && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Your Orders</h3>\n              <p className=\"text-gray-600\">View your past orders.</p>\n<OrderPage/>            </div>\n          )}\n          {activeSection === \"cart\" && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">Your Cart</h3>\n              <p className=\"text-gray-600\">Items currently in your cart.</p>\n<Cart/>            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3044, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}