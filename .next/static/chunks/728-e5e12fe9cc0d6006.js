"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{6788:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(5155),r=s(2115);let l=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 text-gray-50",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})});var n=s(8173),o=s.n(n),i=s(3391),d=s(6046),c=s(1889),u=s(2615),x=s(1536),h=s(9208);function m(){let[e,t]=(0,r.useState)(!1),s=(0,i.wA)(),l=(0,d.useRouter)(),{data:n}=(0,u.useSession)(),m=(0,i.d4)(e=>{var t;return null==e?void 0:null===(t=e.session)||void 0===t?void 0:t.user}),p=()=>{let e=h.A.get("shopflow_session");if(e)try{let t=JSON.parse(e);s((0,c.Nq)(t))}catch(e){console.error("Failed to parse user data from cookies:",e)}},g=async()=>{try{n&&await (0,u.signOut)({callbackUrl:"/"}),h.A.remove("shopflow_session"),s((0,c.Nq)({})),l.reload("/")}catch(e){console.error("Sign-out error:",e)}};return(0,r.useEffect)(()=>{m||p();let e=e=>{let s=document.getElementById("dropdownAvatar");s&&!s.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{id:"dropdownUserAvatarButton",onClick:()=>{t(e=>!e)},className:"flex items-center text-sm bg-gray-800 px-3 py-1 rounded-md focus:outline-none",type:"button","aria-expanded":e,"aria-haspopup":"true",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-500 flex justify-center items-center mr-2",children:(null==m?void 0:m.image)?(0,a.jsx)("img",{src:(null==m?void 0:m.profile_pic)||"/_assets/user.png",alt:"User Profile",className:"w-full h-full object-cover"}):(0,a.jsx)(x.NBi,{className:"text-white text-3xl"})}),(0,a.jsx)("span",{className:"font-medium text-white hover:text-orange-500",children:(null==m?void 0:m.name)||"Sign in"})]})}),e&&(0,a.jsx)("div",{id:"dropdownAvatar",className:"absolute right-0 z-10 bg-white rounded-lg shadow w-56 dark:bg-gray-700",children:(null==m?void 0:m.name)?(0,a.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-200",children:[(0,a.jsx)("li",{className:"px-4 py-3",children:(0,a.jsx)("button",{className:"w-full text-left block bg-orange-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-orange-600",onClick:g,children:"Sign out"})}),(0,a.jsx)("li",{className:"px-4 py-2",children:(0,a.jsx)(o(),{href:"/user/profile",className:"block hover:text-orange-500 hover:underline",children:"My Account"})}),(0,a.jsx)("li",{className:"px-4 py-2",children:(0,a.jsx)(o(),{href:"/orders",className:"block hover:text-orange-500 hover:underline",children:"My Orders"})}),(0,a.jsx)("li",{className:"px-4 py-2",children:(0,a.jsx)(o(),{href:"/cart",className:"block hover:text-orange-500 hover:underline",children:"My Cart"})}),(0,a.jsx)("li",{className:"px-4 py-2",children:(0,a.jsx)(o(),{href:"/wishlist",className:"block hover:text-orange-500 hover:underline",children:"My Wishlist"})})]}):(0,a.jsx)("div",{className:"p-4 text-center",children:(0,a.jsx)(o(),{href:"/auth",className:"block mb-2 text-orange-500 font-medium text-sm",children:"Sign in or New Customer start here.."})})})]})}var p=s(4186);let g=e=>{let{menuData:t=[]}=e,[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1);return(0,a.jsx)("div",{className:"bg-gray-900 text-white relative h-10",children:(0,a.jsx)("div",{className:"flex items-center justify-between w-3/5 sm:px-3 lg:px-6  py-4",children:(0,a.jsxs)("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,a.jsxs)("button",{className:"flex items-center space-x-2 bg-gray-800 rounded-t-md px-1",children:[(0,a.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Categories"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,a.jsx)("div",{className:"absolute top-full left-0 bg-white text-black shadow-lg w-40 z-50",children:null==t?void 0:t.map((e,t)=>{var r;return(0,a.jsxs)("div",{onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),className:"relative group",children:[(0,a.jsxs)("div",{className:"p-2 cursor-pointer text-sm font-semibold hover:text-gray-600",children:[e.name," "]}),s===t&&(0,a.jsx)("div",{className:"absolute top-0 left-full bg-white text-black shadow-lg w-40 z-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:(0,a.jsx)("ul",{className:"p-4 space-y-2",children:null===(r=e.subCategories)||void 0===r?void 0:r.map(e=>(0,a.jsx)(o(),{href:"/products/subcategory/".concat(e.id),children:(0,a.jsx)("li",{className:"text-sm hover:text-gray-600 cursor-pointer",children:e.name},e.id)},e.id))})})]},e.id)})})]})})})};var v=s(279);function f(e){let{content:t=["Mobile","Laptop","Headphones","Smartwatch","Gaming","Camera"]}=e,s=(0,i.wA)();return(0,a.jsx)("div",{className:"overflow-x-scroll scrollbar-hide flex w-3/4 space-x-2 mt-1 text-xs text-gray-400 cursor-pointer",children:t.map((e,t)=>(0,a.jsx)("span",{onClick:()=>s((0,p.YX)(e)),children:e},t))})}function y(){let e=(0,i.d4)(e=>e.generic.data.search),t=(0,i.wA)(),s=(0,d.useRouter)(),l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{l.current.value=e},[e]),(0,a.jsxs)("div",{className:"w-2/4 px-4 py-2 md:px-10 ",children:[(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)("input",{ref:l,type:"text",placeholder:"Search for products...",className:"w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 md:text-base"}),(0,a.jsxs)("button",{onClick:()=>{let e=l.current.value;t((0,p.YX)(e)),s.push("/products")},type:"submit",className:"absolute right-0 top-0 h-full px-3 bg-orange-500 text-white rounded-r-lg hover:bg-orange-600 md:px-4",children:[(0,a.jsx)("span",{className:"sr-only",children:"Search"}),(0,a.jsx)(x.KSO,{className:"text-sm md:text-base"})]})]}),(0,a.jsx)(f,{})]})}function j(){var e;let[t,s]=(0,r.useState)(!1),n=(0,i.d4)(e=>e.session.user),d=(0,i.wA)(),{data:c,loading:u,error:x}=(0,i.d4)(e=>e.api);(0,r.useEffect)(()=>{d((0,v.Fd)("/products/category"))},[d]);let h=(0,i.d4)(e=>e.api);return(0,a.jsxs)("header",{children:[(0,a.jsxs)("nav",{className:"bg-gray-900 px-4 lg:px-6 py-2 ",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mx-auto max-w-screen-xl text-white",children:[(0,a.jsx)(o(),{href:"/",className:"flex",children:(0,a.jsxs)("span",{className:"text-md sm:text-md md:text-3xl font-bold",children:[(0,a.jsx)("span",{className:"text-white",children:"Shop"}),(0,a.jsx)("span",{className:"text-orange-500",children:"Flow"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"block text-xs font-light",children:"Global leading online shop"})]})}),(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,a.jsx)(m,{}),(0,a.jsx)("div",{children:(0,a.jsxs)(o(),{href:"/cart",className:"relative flex items-center justify-center text-gray-300 hover:text-white",children:[l,n&&(0,a.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold leading-none text-white bg-orange-500 rounded-full transform translate-x-2 -translate-y-2"})]})})]}),(0,a.jsxs)("button",{className:"lg:hidden text-gray-300 hover:text-white",onClick:()=>{s(e=>!e)},children:[(0,a.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),"â˜°"]})]}),t&&(0,a.jsx)("div",{className:"lg:hidden bg-gray-800 px-4 py-2 space-y-4",children:(0,a.jsx)(m,{})})]}),(0,a.jsx)(g,{menuData:null==h?void 0:null===(e=h.data)||void 0===e?void 0:e.data})]})}},279:(e,t,s)=>{s.d(t,{Ay:()=>c,Fd:()=>d});var a=s(8943),r=s(6301);let l=(0,a.Z0)({name:"api",initialState:{data:null,loading:!1,error:null},reducers:{fetchDataStart(e){e.loading=!0,e.error=null},fetchDataSuccess(e,t){e.loading=!1,e.data=t.payload},fetchDataFailure(e,t){e.loading=!1,e.error=t.payload}}}),{fetchDataStart:n,fetchDataSuccess:o,fetchDataFailure:i}=l.actions,d=e=>async t=>{t(n());try{let s=await r.S.get(e);t(o(s.data))}catch(e){var s;t(i((null===(s=e.response)||void 0===s?void 0:s.data)||e.message))}},c=l.reducer},4186:(e,t,s)=>{s.d(t,{Ay:()=>d,YX:()=>n,_9:()=>r,yL:()=>l});let a=(0,s(8943).Z0)({name:"Filter",initialState:{data:{filter:null,search:null,language:null,country:null}},reducers:{updateFilter(e,t){e.data.filter=t.payload},resetFilter(e){e.data={filter:null}},updateSearch(e,t){e.data.search=t.payload},updateCountry(e,t){e.data.country=t.payload},updateLanguage(e,t){e.data.language=t.payload}}}),{updateFilter:r,resetFilter:l,updateSearch:n,updateCountry:o,updateLanguage:i}=a.actions,d=a.reducer},1889:(e,t,s)=>{s.d(t,{Ay:()=>n,Nq:()=>r});let a=(0,s(8943).Z0)({name:"session",initialState:{user:null,token:null},reducers:{setSession:(e,t)=>{console.log(t.payload),e.user=t.payload.user,e.token=t.payload.token},clearSession:e=>{e.user=null,e.token=null}}}),{setSession:r,clearSession:l}=a.actions,n=a.reducer},2895:(e,t,s)=>{s.d(t,{Ay:()=>n,Dh:()=>l,Sd:()=>r});let a=(0,s(8943).Z0)({name:"props",initialState:{product:null,history:null},reducers:{setProductData(e,t){console.log(t),e.product=t.payload,console.log(t.payload)},setHistory(e,t){e.history=t.payload,console.log(e.history)}}}),{setProductData:r,setHistory:l}=a.actions,n=a.reducer},6301:(e,t,s)=>{s.d(t,{S:()=>a});let a=s(2651).A.create({baseURL:"http://192.168.0.114:5000"})}}]);